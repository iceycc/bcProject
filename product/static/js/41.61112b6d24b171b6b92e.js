webpackJsonp([41],{"5nGg":function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});i("ehhp");var e=i("NVmV"),o=i.n(e),n=i("0jG4"),s=i("EOwk"),c=i("MmTA"),l=i("JIj5"),_=(i("msXN"),{mixins:[""],data:function(){return{searchCondition:{pageNo:"1",pageSize:"10"},pageList:[],allLoaded:!1,scrollMode:"touch",searchCondition1:{pageNo:"1",pageSize:"10"},tabsParam:["持有中","已到期"],nowIndex:0,financialData:{TOTAL_ASSET:"0.00",ACC_REST:"0.00",YSD_INCOME:"0.00",TOTAL_INCOME:"0.00"},total:"",TYPE:"0"}},components:{"v-loadmore":o.a},created:function(){this.getData()},mounted:function(){this.loadPageList();var t=l.a.getWinSize().winHeight,a=l.a.getDivSize(".w-top").height,i=t-a-l.a.getDivSize(".tabs").height-25;document.querySelector(".main-body").style.height=i+"px",document.querySelector(".tab-box").style.top=a+"px"},watch:{},computed:{pageList1:function(){return 1==this.TYPE?this.pageList:[]},pageList2:function(){return 2==this.TYPE?this.pageList:[]},TOTAL:function(){var t=this.financialData.TOTAL_ASSET-this.financialData.ACC_REST;return t||"0.00"}},methods:{goAdd:function(t){this.setComState({type:"goBuy",value:t}),this.$router.push({name:s.e.Buying})},geDetails:function(t){var a=t.FUND_NO,i=t.PRD_INDEX_ID,e=t.PRD_NAME;this.$router.push({name:s.e.TransactionDetails,query:{FUND_NO:a,PRD_INDEX_ID:i,PRD_NAME:e}})},goRedeem:function(t){this.setComState({type:"redeemData",value:t}),this.$router.push({name:s.e.Redeem})},toggleTabs:function(t){this.pageList=[],this.nowIndex=t,this.loadPageList()},getData:function(){var t=this;n.a.bank.apiQryAsset({type:"API_QRY_ASSET"},function(a){t.financialData=a})},loadTop:function(){console.log("下拉加载"),this.loadPageList(),this.$refs.loadmore.onTopLoaded()},loadBottom:function(){console.log("上拉加载"),this.more(),this.$refs.loadmore.onBottomLoaded()},loadPageList:function(){var t=this;this.searchCondition.pageNo="1",this.searchCondition1.pageNo="1",this.allLoaded=!1;var a={currentPage:this.searchCondition.pageNo,PRD_TYPE:"1"};n.a.bank.apiQryHoldInfo(a,function(a){t.TYPE=a.TYPE,t.pageList=a.retList||[],t.pageList.length<t.searchCondition.pageSize&&(t.allLoaded=!0),t.$nextTick(function(){this.scrollMode="touch"})})},more:function(){var t=this;this.searchCondition.pageNo=""+(parseInt(this.searchCondition.pageNo)+1);var a={currentPage:this.searchCondition.pageNo,PRD_TYPE:"2"};n.a.bank.apiQryHoldInfo(a,function(a){t.pageList=t.pageList.concat(a.retList),t.pageList.length<t.searchCondition.pageSize&&(t.allLoaded=!0,c.a.$emit(s.a.showToast,"数据全部加载完成"))})}}}),r={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"wrap pro"},[i("div",{staticClass:"w-top"},[i("app-bar",{attrs:{title:"货币基金",ifShow:!1}}),t._v(" "),i("div"),t._v(" "),i("div",{staticClass:"f-box"},[i("div",{staticClass:"total-price"},[t._m(0),t._v(" "),i("p",[t._v(t._s(t._f("formatNum")(t.TOTAL)))])]),t._v(" "),i("div",{staticClass:"profit"},[i("div",[i("p",[t._v("昨日收益")]),t._v(" "),i("p",[t._v(t._s(t.financialData.YSD_INCOME>=0?"+":"")+t._s(t._f("formatNum")(t.financialData.YSD_INCOME)))])]),t._v(" "),i("div",[i("p",[t._v("累计收益")]),t._v(" "),i("p",[t._v("\n            "+t._s(t._f("formatNum")(t.financialData.TOTAL_INCOME)))])])])])],1),t._v(" "),i("div",{staticClass:"tab-box"},[i("ul",{staticClass:"tabs"},t._l(t.tabsParam,function(a,e){return i("li",{staticClass:"li-tab",class:{active:e==t.nowIndex},on:{click:function(a){t.toggleTabs(e)}}},[t._v(t._s(a)+"\n      ")])})),t._v(" "),i("div",{staticClass:"divTab"},[i("div",{staticClass:"main-body",style:{"-webkit-overflow-scrolling":t.scrollMode}},[i("v-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1}},[i("div",{staticStyle:{"padding-bottom":"20px"}},[t._l(t.pageList1,function(a,e){return 0===t.nowIndex?i("div",{key:e,staticClass:"divTab-1"},[i("span",{staticClass:"detail",on:{click:function(i){t.geDetails(a)}}},[t._v("明细")]),t._v(" "),i("h4",[i("strong",[t._v(t._s(a.PRD_NAME))])]),t._v(" "),i("p",[t._v(t._s(a.DESCRIPT))]),t._v(" "),i("p",[t._v("持有金额（元）\n                "),i("span",[t._v(t._s(t._f("formatNum")(a.HOLD_AMOUNT)))])]),t._v(" "),i("p",[t._v("昨日收益\n                "),i("span",[t._v(t._s(a.CURRENT_INCOME))])]),t._v(" "),i("p",[t._v("累计收益\n                "),i("span",[t._v(t._s(t._f("formatNum")(a.ADD_INCOME)))])]),t._v(" "),i("p",[t._v("七日年化\n                "),i("span",[t._v(t._s(a.RATE)+"%")])]),t._v(" "),i("div",{staticClass:"bottom-btn"},[i("div",[i("span",{on:{click:function(i){t.goRedeem(a)}}},[t._v("赎回")])]),t._v(" "),i("div",[i("span",{on:{click:function(i){t.goAdd(a)}}},[t._v("追加")])])])]):t._e()}),t._v(" "),t._l(t.pageList2,function(a,e){return 1===t.nowIndex?i("div",{key:e,staticClass:"divTab-1"},[i("span",{staticClass:"detail",on:{click:function(i){t.geDetails(a)}}},[t._v("明细")]),t._v(" "),i("h4",[i("strong",[t._v(t._s(a.PRD_NAME))])]),t._v(" "),i("p",[t._v(t._s(a.DESCRIPT))]),t._v(" "),i("p",[t._v("累计收益\n                "),i("span",[t._v(t._s(t._f("formatNum")(a.ADD_INCOME)))])])]):t._e()})],2)])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("总资产"),a("i",[this._v("(元)")])])}]};var d=i("VU/8")(_,r,!1,function(t){i("ja7y")},"data-v-8ce5c912",null);a.default=d.exports},ja7y:function(t,a){}});
//# sourceMappingURL=41.61112b6d24b171b6b92e.js.map