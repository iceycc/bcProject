webpackJsonp([80],{DHv1:function(t,e){},"K+qX":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("xoIZ"),i=s("Ij8P"),r=s("0jG4"),n=s("MmTA"),o=s("EOwk"),l=s("JIj5"),c=(s("msXN"),{name:"ResetPhone",components:{ActiveInput:a.a,ErrMsg:i.a},data:function(){return{errMsg:"",params:{PHONE_NUM:"",PHONE_CODE:"",MESSAGE_TOKEN:""},PHONE_NUM:"",tel:"",disable:!1,codeText:"获取验证码",time:60}},watch:{},created:function(){this.tel=this.$store.getters.GET_COMMON_STATE.infos},methods:{goNext:function(){var t=this;console.log(this.PHONE_NUM);var e;if(this.params.PHONE_NUM=this.PHONE_NUM,e=l.a.Check.tel(this.params.PHONE_NUM))this.showErrMsg(e);else if(this.params.MESSAGE_TOKEN)if(this.params.PHONE_CODE){var s={PHONE_NUM:this.params.PHONE_NUM,PHONE_CODE:this.params.PHONE_CODE,MESSAGE_TOKEN:this.params.MESSAGE_TOKEN};r.a.safe.apiChangePhoneNum(s,!0,function(e){n.a.$emit(o.a.showToast,"更换手机号成功，请重新登陆"),t.removeComState("TOKEN"),t.removeComState("Infos"),t.setComState({type:"loginType",value:o.e.BankDetail}),t.$router.push({name:o.e.Login})},function(e){t.showErrMsg(e)})}else this.showErrMsg("请填写短信验证码");else this.showErrMsg("请获取短信验证码")},showErrMsg:function(t){var e=this;this.errMsg=t,setTimeout(function(){e.errMsg=""},2e3)},getMsgCode:function(){var t=this,e=this.time;this.disable=!0;var s=setInterval(function(){if(0==e)return t.codeText="重新发送",t.disable=!1,void clearInterval(s);e--,t.codeText=e+"s"},1e3),a={PHONE_NUM:this.tel+"",BIZ_TYPE:"10"};r.a.open.getMsgCode(a,function(e){n.a.$emit(o.a.showSendMsg,t.tel),t.params.MESSAGE_TOKEN=e.MESSAGE_TOKEN},function(e){clearInterval(s),t.codeText="重新发送",t.disable=!1,console.log(e)})}}}),E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("app-bar",{attrs:{title:"修改手机号"}}),t._v(" "),s("section",{staticClass:"m-form"},[s("section",{staticClass:"m-line"},[s("span",{staticClass:"n-left"},[t._v("原手机号")]),t._v(" "),s("span",{staticClass:"n-right"},[t._v(t._s(t.tel))])]),t._v(" "),s("active-input",{attrs:{"check-type":"number",valuePlaceholder:"新手机号码",max:"11",type:"tel"},model:{value:t.PHONE_NUM,callback:function(e){t.PHONE_NUM=e},expression:"PHONE_NUM"}}),t._v(" "),s("active-input",{attrs:{valuePlaceholder:"验证码"},model:{value:t.params.PHONE_CODE,callback:function(e){t.$set(t.params,"PHONE_CODE",e)},expression:"params.PHONE_CODE"}},[s("template",{slot:"btn"},[s("button",{staticClass:"slot",attrs:{disabled:t.disable},on:{click:t.getMsgCode}},[t._v(t._s(t.codeText))])])],2),t._v(" "),s("section",{staticClass:"submit-box"},[s("err-msg",{attrs:{errMsg:t.errMsg,classStyle:"err-msg"}}),t._v(" "),s("button",{staticClass:"submit-btn",on:{click:t.goNext}},[t._v("下一步")])],1),t._v(" "),t._m(0)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"foot-text"},[e("p",[this._v("温馨提示：")]),this._v(" "),e("p",[this._v("更换手机号之前，请您确认新手机号与绑定的银行卡的预留手机号相同，如果不同请先更换绑定银行卡的预留手机号。")])])}]};var _=s("VU/8")(c,E,!1,function(t){s("DHv1")},"data-v-4ad677d6",null);e.default=_.exports}});
//# sourceMappingURL=80.319eb593081b2e01b72a.js.map