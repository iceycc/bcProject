webpackJsonp([117],{C8IJ:function(t,a){},OPxX:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("ehhp");var i=e("NVmV"),o=e.n(i),s=e("bOdI"),n=e.n(s),l=e("0jG4"),d=e("EOwk"),r=e("MmTA"),_=e("JIj5"),c=(e("msXN"),{mixins:[""],data:function(){var t;return t={searchCondition:{pageNo:"1",pageSize:"10"},pageList:[],allLoaded:!1,scrollMode:"touch",searchCondition1:{pageNo:"1",pageSize:"10"}},n()(t,"pageList",[]),n()(t,"tabsParam",["持有中","已结束"]),n()(t,"nowIndex",0),n()(t,"financialData",{ACC_REST:"0.00",YSD_INCOME:"0.00",TOTAL_INCOME:"0.00"}),n()(t,"total",""),t},components:{"v-loadmore":o.a},created:function(){this.getData()},mounted:function(){this.loadPageList();var t=_.a.getWinSize().winHeight,a=_.a.getDivSize(".w-top").height,e=t-a-_.a.getDivSize(".tabs").height-25;document.querySelector(".main-body").style.height=e+"px",document.querySelector(".tab-box").style.top=a+"px"},methods:{goBuy:function(t){this.setComState({type:"goBuy",value:t}),this.$router.push({name:d.e.Buying})},geDetails:function(t){var a=t.FUND_NO,e=t.PRD_INDEX_ID,i=t.PRD_NAME;this.$router.push({name:d.e.TransactionDetails,query:{FUND_NO:a,PRD_INDEX_ID:e,PRD_NAME:i}})},goRedeem:function(t){this.setComState({type:"redeemData",value:t}),this.$router.push({name:d.e.Redeem})},toggleTabs:function(t){this.pageList=[],this.nowIndex=t,this.loadPageList()},getData:function(){var t=this;l.a.bank.apiQryAsset({type:"API_QRY_ASSET"},function(a){t.financialData=a})},loadTop:function(){console.log("下拉加载"),this.loadPageList(),this.$refs.loadmore.onTopLoaded()},loadBottom:function(){console.log("上拉加载"),this.more(),this.$refs.loadmore.onBottomLoaded()},loadPageList:function(){var t=this;this.searchCondition.pageNo="1",this.searchCondition1.pageNo="1",this.allLoaded=!1;var a={currentPage:this.searchCondition1.pageNo+"",PRD_TYPE:"4"};1==this.nowIndex?l.a.bank.getMyInvestOver(a,function(a){if(!a.PAGE)return t.allLoaded=!0,void r.a.$emit(d.a.showToast,"数据全部加载完成");t.pageList=a.PAGE.retList||[],t.pageList.length,t.$nextTick(function(){this.scrollMode="touch"})}):l.a.bank.apiQryHoldInfo(a,function(a){if(!a.PAGE)return t.allLoaded=!0,void r.a.$emit(d.a.showToast,"数据全部加载完成");t.pageList=a.PAGE.retList,t.pageList.length<t.searchCondition.pageSize&&(t.allLoaded=!0),t.$nextTick(function(){this.scrollMode="touch"})})},more:function(){var t=this;if(1==this.nowIndex){this.searchCondition1.pageNo=""+(parseInt(this.searchCondition1.pageNo)+1);var a={currentPage:this.searchCondition1.pageNo,PRD_TYPE:"2"};l.a.bank.getMyInvestOver(a,function(a){if(!a.PAGE)return t.allLoaded=!0,void r.a.$emit(d.a.showToast,"数据全部加载完成");t.pageList=a.PAGE.retList||[],t.pageList=t.pageList.concat(t.pageList),t.pageList.length<t.searchCondition1.pageSize&&(t.allLoaded=!0,r.a.$emit(d.a.showToast,"数据全部加载完成"))})}else{this.searchCondition.pageNo=""+(parseInt(this.searchCondition.pageNo)+1);var e={currentPage:this.searchCondition.pageNo,PRD_TYPE:"2"};l.a.bank.apiQryHoldInfo(e,function(a){if(!a.PAGE)return t.allLoaded=!0,void r.a.$emit(d.a.showToast,"数据全部加载完成");t.pageList=a.PAGE.retList||[],t.pageList=t.pageList.concat(t.pageList),t.pageList.length<t.searchCondition.pageSize&&(t.allLoaded=!0,r.a.$emit(d.a.showToast,"数据全部加载完成"))})}}}}),v={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap pro"},[e("div",{staticClass:"w-top"},[e("app-bar",{attrs:{title:"存款产品",ifShow:!1}}),t._v(" "),e("div"),t._v(" "),e("div",{staticClass:"f-box"},[e("div",{staticClass:"profit"},[e("div",[e("p",[t._v(t._s(t._f("formatNum")(t.financialData.TOTAL_ASSET-t.financialData.ACC_REST)))]),t._v(" "),e("p",[t._v("总资产")])]),t._v(" "),e("span",{staticClass:"line"}),t._v(" "),e("div",[e("p",[t._v(t._s(t.financialData.TOTAL_INCOME>=0?"+":"")+t._s(t._f("formatNum")(t.financialData.TOTAL_INCOME)))]),t._v(" "),e("p",[t._v("昨日收益")])])])])],1),t._v(" "),e("div",{staticClass:"tab-box"},[e("ul",{staticClass:"tabs"},t._l(t.tabsParam,function(a,i){return e("li",{staticClass:"li-tab",class:{active:i==t.nowIndex},on:{click:function(a){t.toggleTabs(i)}}},[t._v(t._s(a)+"\n      ")])})),t._v(" "),e("div",{staticClass:"divTab"},[e("div",{staticClass:"main-body",style:{"-webkit-overflow-scrolling":t.scrollMode}},[e("v-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1}},[e("div",{staticStyle:{"padding-bottom":"20px"}},[t._l(t.pageList,function(a,i){return 0===t.nowIndex?e("div",{key:i,staticClass:"divTab-1"},[e("span",{staticClass:"detail",on:{click:function(e){t.geDetails(a)}}},[t._v("明细")]),t._v(" "),e("h4",[e("strong",[t._v(t._s(a.PRD_NAME))])]),t._v(" "),e("p",[t._v("隶属于"+t._s(a.ORG_NAME))]),t._v(" "),e("p",[t._v("净利息\n                "),e("span",[t._v(t._s(t._f("formatNum")(a.ADD_INCOME)))])]),t._v(" "),e("p",[t._v("本金\n                "),e("span",[t._v(t._s(a.INVEST_AMOUNT))])]),t._v(" "),e("p",[t._v("利率\n                "),e("span",[t._v(t._s(a.RATE)+"%")])]),t._v(" "),e("p",[t._v("存入天数\n                "),e("span",[t._v(t._s(a.ACTUAL_DATE_NUM)+"天")])]),t._v(" "),e("div",{staticClass:"bottom-btn"},[e("div",[e("span",{on:{click:function(e){t.goRedeem(a)}}},[t._v("支取")])]),t._v(" "),e("div",[e("span",{on:{click:function(e){t.goBuy(a)}}},[t._v("继续存入")])])])]):t._e()}),t._v(" "),t._l(t.pageList,function(a,i){return 1===t.nowIndex?e("div",{key:i,staticClass:"divTab-1"},[e("span",{staticClass:"detail"},[t._v("明细")]),t._v(" "),e("h4",[e("strong",[t._v(t._s(a.PRD_NAME))])]),t._v(" "),e("p",[t._v("隶属于"+t._s(a.ORG_NAME))]),t._v(" "),e("p",[t._v("本金金额（元）\n                "),e("span",[t._v(t._s(t._f("formatNum")(a.HOLD_AMOUNT)))])]),t._v(" "),e("p",[t._v("实际收益金额\n                "),e("span",[t._v(t._s(t._f("formatNum")(a.ADD_INCOME)))])]),t._v(" "),e("p",[t._v("支取时间\n                "),e("span",[t._v(t._s(a.OVER_DATE))])])]):t._e()})],2)])],1)])])])},staticRenderFns:[]};var p=e("VU/8")(c,v,!1,function(t){e("C8IJ")},"data-v-0afa90ed",null);a.default=p.exports}});
//# sourceMappingURL=117.8d8fd3aa73544472a29f.js.map