{"version":3,"sources":["webpack:///./src/views/ZhongBang/login/login.js","webpack:///src/views/ZhongBang/login/Login.vue","webpack:///./src/views/ZhongBang/login/Login.vue?f161","webpack:///./src/views/ZhongBang/login/Login.vue"],"names":["login","methods","checkAuthStatus","_this","this","service","bicai","getAuthStatus","res","AUTH_STATUS","isOldMember","console","log","Number","$router","push","Constant","BcOpening1","BcOpening2","checkBankStatus","_this2","common","apiRegisterBackShow","step","LAST_STEP_NUM","setComState","type","value","tel","util","storage","session","set","name","Opening1","Opening2","checkIfPinggu","err","codeText","msgDisabled","removeComState","HAS_GRADE","bus","$emit","showToast","VerificationSuccess","toPreProduct","safeCodeUrl","timer","Login","data","SESSION_ID","cms","pass","passLay","toUrl","loginPass","num","ifGet","refur","telShow","cmsShow","telPaceholder","cmsholder","passPluginText","currentTel","ORG_ID","BANK_NAME","LOGO_URL","safeCode","showSafeCode","getMsgCodeSuccess","mixins","HandleMixin","UtilMixin","components","PassWordZhengzhou","PassInputZhengzhou","inject","created","get","preInfo","getComState","loginInfo","PHONE_NUM","msg","computed","disabled","length","canClick","watch","n","o","isValueNumber","toString","substr","goBicaiOpen","$store","getters","GET_ACCOUNT_STATE","TOKEN","loginFactory","Check","PHONE_CODE","SAFT_CODE","SOURCE_URL","GET_COMMON_STATE","loginType","commit","watchApi","FUNCTION_ID","REMARK_DATA","PHONE_TOKEN","clearInterval","reImg","getSafeCode","getMsg","test","canLogin","arguments","undefined","sendSMS","mark","timeDown","focusHandle","$","css","fontSize","clickMsgCodeHandle","PHONE","_this3","sTime","setInterval","login_Login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","_v","src","__webpack_require__","alt","on","click","_s","directives","rawName","expression","placeholder","domProps","input","$event","target","composing","class","tijiao","active","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/82.29b844c29c55357252ca.js","sourcesContent":["import API from \"@/service\"\nimport {LsName, BusName, PageName} from \"@/Constant\";\nimport Bus from '@/plugin/bus'\nimport util from \"../../../libs/util\";\n\n\nexport default {\n  methods:{\n    // 判断该用户在比财的实名认证状态\n    checkAuthStatus() {\n      API.bicai.getAuthStatus({}, res => {\n        let {AUTH_STATUS, isOldMember} = res\n        //  AUTH_STATUS 返回码：\n        // 0:未认证，\n        // 1:身份证认证，\n        // 2:银行卡认证，\n        // 3:密码设置，\n        // 4:认证完成，\n        // 5:身份证过期\n        console.log(AUTH_STATUS);\n        switch (Number(AUTH_STATUS)) {\n          case 0:\n          case 1:\n            this.$router.push(PageName.BcOpening1)\n            break;\n          case 2:\n            this.$router.push(PageName.BcOpening2)\n            break;\n          case 3:\n          case 4:\n            this.checkBankStatus()\n            // todo 再判断对应的直销银行有没有开户\n            break;\n          case 5:\n            //\n            this.$router.push(PageName.BcOpening1)\n            break;\n        }\n      })\n    },\n    // 判断该用户在本行的开户状态\n    checkBankStatus() {\n      // 登陆比财成功 且在比财实名成功 然后 检查在本行状态\n      let data = {}\n      API.common.apiRegisterBackShow(data, res => {\n        let step = res.LAST_STEP_NUM\n        this.setComState({type: 'TEL', value: this.tel})\n\n        // （0未提交，1提交第一步，2提交第二步，3提交第三步）\n        util.storage.session.set('USERINFO', res)\n        if (step == 0) {\n          // this.$store.commit('SET_OPENING_DATA', 1)\n          this.setComState({type:'openingData',value:res})\n          this.$router.push({name: PageName.Opening1})\n        }\n        if (step == 1) {\n          this.setComState({type:'openingData',value:res})\n          // this.$store.commit('SET_OPENING_DATA', 1)\n          this.$router.push({name: PageName.Opening2})\n        }\n        if (step == 2) {\n          this.setComState({type:'Infos',value:res})\n\n          // this.$store.commit('SET_OPENING_DATA', 1)\n          // this.$router.push({name: PageName.Opening3})\n          this.checkIfPinggu(res)\n        }\n        if (step == 3) {\n          // todo登陆成功后判断拿来的去哪里\n          this.setComState({type:'Infos',value:res})\n\n          // this.$router.push({name:PageName.Opening3})\n          this.checkIfPinggu(res)\n        }\n\n      },err=>{\n        this.codeText = '重新发送'\n        this.msgDisabled = false\n      })\n    },\n    // 判断是否评估\n    checkIfPinggu(res){\n      // this.$router.push({name:PageName.Opening3})\n      this.removeComState('loginInfo')\n      let type = res.HAS_GRADE\n      this.setComState({type: 'HAS_GRADE', value: type})\n      // util.storage.session.set(LsName.HAS_GRADE, type)\n      if (type == 1) {\n        Bus.$emit(BusName.showToast, '请先进行评估')\n        this.$router.push({\n          name: PageName.VerificationSuccess,\n        })\n      }\n      else if (type == 2) { // 评估过\n        // 2的话\n        this.toPreProduct() // 评估过判断是否去哪里\n\n      } else {\n        this.toPreProduct() // 评估过判断是否去哪里\n      }\n    },\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/ZhongBang/login/login.js","<template>\n  <div class=\"hello\">\n    <app-bar title=\"安全登录\"></app-bar>\n    <!--不同银行展示不同的logo和名称,以后抽离组件 专门用于管理-->\n    <!--<img class=\"logo\" src=\"@/assets/images/logoaaa_03.png\" alt=\"\">-->\n    <div class=\"logo-box\">\n      <img src=\"@/assets/images/common/logo@2x.png\" alt=\"\" @click=\"goBicaiOpen\">\n      <span>比财平台{{BANK_NAME}}直销银行</span>\n    </div>\n    <div class=\"login_box\">\n      <section class=\"input-box\">\n        <transition name=\"fade\">\n          <p class=\"label\" v-show=\"telShow\">开户手机号</p>\n        </transition>\n        <input class=\"input\" type=\"tel\"\n               name=\"text1\" :placeholder=\"telPaceholder\" v-model=\"tel\">\n      </section>\n      <section class=\"input-box\">\n        <transition name=\"fade\">\n          <p class=\"label\" v-show=\"cmsShow\">短信验证码</p>\n        </transition>\n        <input class=\"input\" type=\"input\"\n               name=\"text1\" :placeholder=\"cmsholder\" v-model=\"cms\">\n        <button class=\"get-msg\" @click=\"clickMsgCodeHandle\" :disabled=\"msgDisabled\">{{codeText}}</button>\n      </section>\n      <button :class=\"{tijiao:true,active:canClick}\" @click=\"loginFactory(ORG_ID)\" :disabled=\"!canClick\">登录</button>\n      <p class=\"infos\">\n        温馨提示：未注册比财账号的手机号，登录时将自动注册，且代表您已同意《用户服务协议》和《比财隐私政策》\n      </p>\n\n    </div>\n    <section class=\"safe-code\" v-show=\"showSafeCode\">\n      <div>\n        <p>请填写图形验证码</p>\n        <section class=\"middle\">\n          <input type=\"tel\" placeholder=\"请输入图形验证码\" v-model=\"safeCode\">\n          <img :src=\"safeCodeUrl+ SESSION_ID\" alt=\"\" @click=\"reImg\">\n        </section>\n        <section class=\"btn\">\n          <button @click=\"showSafeCode=false\">取消</button>\n          <button @click=\"getSafeCode\">确定</button>\n        </section>\n      </div>\n    </section>\n    <section class=\"bottomcontent\">\n      <p>\n        <img src=\"@/assets/images/icon_dunpai@2x.png\" alt=\"\">\n        {{BANK_NAME}}银行已与比财实现安全直连</p>\n    </section>\n  </div>\n</template>\n<script>\n  import API from \"@/service\"\n  import {LsName, BusName, PageName} from \"@/Constant\";\n  import Bus from '@/plugin/bus'\n  import PassWordZhengzhou from '@/components/password/PassInputZhengzhou'\n  import Mixins from \"@/mixins\";\n  import LoginMixins from './login'\n  import util from \"../../../libs/util\";\n  import {HOST} from \"@/Constant\";\n\n  const safeCodeUrl = HOST + '/finsuitSafeCode?SESSION_ID='\n  let time = 60\n  let timer;\n  export default {\n    data() {\n      return {\n        SESSION_ID: '',\n        safeCodeUrl,\n        msgDisabled: false,\n        tel: '',\n        cms: '',\n        pass: '',\n        passLay: '',\n        toUrl: \"\",\n        loginPass: 'loginPass',\n        num: 1,\n        ifGet: false,\n        refur: false,\n        telShow: false,\n        cmsShow: false,\n        telPaceholder: '开户手机号',\n        cmsholder: '短信验证码',\n        codeText: '获取验证码',\n        passPluginText: '',\n        currentTel: '',\n        ORG_ID: '', //\n        BANK_NAME: '',\n        LOGO_URL: '',\n        safeCode: '',\n        showSafeCode: false,\n        getMsgCodeSuccess: false\n      }\n    },\n    mixins: [Mixins.HandleMixin, Mixins.UtilMixin, LoginMixins],\n    components: {\n      PassWordZhengzhou\n    },\n    inject: ['reload'],\n    created() {\n      this.ORG_ID = util.storage.session.get('ORG_ID') || ''\n      // this.ORG_ID = this.$store.getters.GET_BANK_INFO.ORG_ID\n      if(this.ORG_ID =='227'){\n        this.BANK_NAME = '众邦'\n      }\n      if(this.ORG_ID =='49'){\n        this.BANK_NAME = '郑州'\n      }\n      let preInfo = this.getComState.loginInfo;\n      if (preInfo) {\n        this.tel = preInfo.PHONE_NUM\n        Bus.$emit(BusName.showToast, preInfo.msg)\n        this.removeComState('loginInfo')\n      }\n    },\n    computed: {\n      disabled() {\n        if (this.tel.length == 11 && this.cms.length > 0 && this.getMsgCodeSuccess) {\n          return false\n        } else {\n          return true\n        }\n      },\n      canClick() {\n        if (this.tel && this.cms && this.getMsgCodeSuccess) {\n          return true\n        } else {\n          return false\n        }\n      }\n    },\n\n    watch: {\n      tel(n, o) {\n        if (n == '') {\n          return\n        }\n        if (!this.isValueNumber(n)) {\n          this.tel = this.currentTel\n          return\n        }\n        if (n.length > 11) { // >11截取\n          this.tel = this.tel.toString().substr(0, 11)\n        }\n        this.currentTel = n\n        if (n.length > 1) { // >1时不必校验\n          return\n        }\n        if (!n) { // 删除到 '' 是触发\n          this.telShow = false\n          this.telPaceholder = '开户手机号'\n        } else {\n          this.telPaceholder = ''\n          this.telShow = true\n        }\n      },\n      cms(n, o) {\n        if (n == '') {\n          return\n        }\n        if (n.length > 1) { // >1时不必校验\n          return\n        }\n        if (!n) { // 删除到 '' 是触发\n          this.cmsShow = false\n          this.cmsholder = '短信验证码'\n        } else {\n          this.cmsholder = ''\n          this.cmsShow = true\n        }\n      }\n    },\n\n    methods: {\n      goBicaiOpen(){\n        let {TOKEN} = this.$store.getters.GET_ACCOUNT_STATE\n        if(TOKEN){\n          this.checkAuthStatus()\n        }\n      },\n      loginFactory() {\n        if (util.Check.tel(this.tel, true)) return\n        let data = {\n          PHONE_NUM: this.tel + '',\n          PHONE_CODE: this.cms,\n          SAFT_CODE: this.safeCode\n        }\n        let SOURCE_URL = this.$store.getters.GET_COMMON_STATE.loginType\n        this.$store.commit('SET_TOKEN', null)\n        API.bicai.login(data, (res) => {\n          API.watchApi({\n            FUNCTION_ID: 'ptb0A007', // 点位\n            REMARK_DATA: '异业合作-登录', // 中文备注\n            SOURCE_URL: SOURCE_URL\n          })\n          this.$store.commit('SET_BICAI_USER', res)\n          this.$store.commit('SET_TOKEN', res.PHONE_TOKEN)\n          // todo 登陆比财 首先判断比财开户的状态 暂时注释。\n          this.checkAuthStatus()\n          // 跳过校验比财开户状态 直接判断郑州银行回显\n          // this.checkBankStatus()\n        }, err => {\n          API.watchApi({\n            FUNCTION_ID: 'ptb0A007', // 点位\n            REMARK_DATA: '异业合作-登录', // 中文备注\n          })\n          this.getMsgCodeSuccess = false\n          this.codeText = '重新发送'\n          this.msgDisabled = false\n          clearInterval(timer)\n          this.$store.commit('SET_SESSION_ID', '')\n          // util.storage.session.remove(LsName.token)\n          this.$store.commit('SET_TOKEN', '')\n        })\n      },\n\n      reImg() {\n        // let data = {\n        //   PHONE_NUM: this.tel + '',\n        //   SAFT_CODE: this.safeCode,\n        // }\n        // API.bicai.sendSMS(data, (res, SESSION_ID) => {\n        //   this.SESSION_ID = SESSION_ID\n        // }, err => {\n        //   this.SESSION_ID = ''\n        // })\n      },\n      getSafeCode() {\n        if (this.safeCode === '') {\n          Bus.$emit(BusName.showToast, '请输入图形验证码')\n          return\n        }\n        this.getMsg(true)\n        this.showSafeCode = false\n      },\n      isValueNumber(value) {\n        return (/(^-?[0-9]+\\.{1}\\d+$)|(^-?[1-9][0-9]*$)|(^-?0{1}$)/).test(value);\n      },\n\n      getMsg(canLogin = false) {\n        this.getMsgCodeSuccess = false\n        let data = {\n          PHONE_NUM: this.tel + '',\n          SAFT_CODE: this.safeCode\n        }\n        this.safeCode = ''\n        API.bicai.sendSMS(data, (res, SESSION_ID) => {\n          let data = res\n          let mark = data.mark // 0 未满5次，1满五次\n          this.SESSION_ID = SESSION_ID\n          if (mark == 0) {\n            // Bus.$emit(BusName.showSendMsg, this.tel)\n            this.getMsgCodeSuccess = true\n            this.timeDown()\n          } else {\n            console.log(canLogin);\n            if (canLogin) { // 用于拦截第一次\n              // 成功！\n              this.getMsgCodeSuccess = true\n              // Bus.$emit(BusName.showSendMsg, this.tel)\n              this.timeDown()\n            } else {\n              this.showSafeCode = true\n            }\n          }\n        }, err => {\n          this.SESSION_ID = ''\n          // this.$store.commit('SET_SESSION_ID', null)\n          // this.reImg()\n        })\n      },\n\n      //\n      focusHandle() {\n        this.telShow = true\n        this.telPaceholder = ''\n        $('.input').css({\n          fontSize: '.5rem'\n        })\n      },\n      clickMsgCodeHandle() {\n        this.SESSION_ID = ''\n        let PHONE = this.tel\n        PHONE = PHONE + ''\n        console.log(PHONE);\n        if (util.Check.tel(PHONE, true)) return;\n        this.getMsg()\n      },\n      // msg倒计时\n      timeDown() {\n        let sTime = time\n        this.msgDisabled = true\n        timer = setInterval(() => {\n          if (sTime == 0) {\n            this.codeText = '重新发送'\n            this.msgDisabled = false\n            clearInterval(timer)\n            return\n          }\n          sTime--\n          this.codeText = `${sTime}s`\n        }, 1000)\n      },\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n  @import \"~@/assets/px2rem\";\n\n  .logo-box {\n    font-size: 0;\n    width: 100%;\n    padding-top: px2rem(40);\n    box-sizing: border-box;\n    padding-left: px2rem(20);\n    span {\n      padding-top: px2rem(10);\n      padding-left: px2rem(20);\n      font-size: px2rem(20);\n      color: #49546C;\n      vertical-align: top;\n    }\n    img {\n      vertical-align: top;\n      width: px2rem(50);\n      height: px2rem(46);\n    }\n  }\n\n  .hello {\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    min-height: px2rem(600);\n    position: relative;\n  }\n\n  .header {\n    background-color: #fff;\n    height: 1.3rem;\n    line-height: 1.3rem;\n    font-size: 0.4rem;\n    border-bottom: 1px solid #e6e6e6;\n  }\n\n  .header p {\n    text-align: center;\n    font-size: 0.5rem;\n  }\n\n  .bottomcontent p {\n    margin-top: 10px;\n    font-size: 0.4rem;\n    color: #808080;\n    background-repeat: no-repeat;\n    background-size: 0.4rem 0.4rem;\n    padding-left: 0.5rem;\n    background-position: 20%;\n  }\n\n  .titlecontent {\n    padding-left: px2rem(20);\n    padding-top: px2rem(24);\n    font-size: px2rem(18);\n    img {\n      width: .6rem;\n      vertical-align: top;\n    }\n  }\n\n  .safe-code {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.3);\n    z-index: 10;\n\n    div {\n      display: flex;\n      flex-direction: column;\n      box-sizing: border-box;\n      margin: px2rem(200) auto 0;\n      background: #fff;\n      padding-top: px2rem(10);\n      text-align: center;\n      width: px2rem(280);\n      height: px2rem(150);\n      border-radius: px2rem(6);\n    }\n    p {\n      flex: 1;\n      font-size: px2rem(18);\n    }\n    .btn {\n      flex: 2;\n      display: flex;\n      button {\n        flex: 1;\n        border-top: 1px solid #ccc;\n        color: #007aff;\n        &:first-child {\n          border-right: 1px solid #ccc;\n        }\n      }\n\n    }\n\n    .middle {\n      display: flex;\n      padding: px2rem(15);\n      flex: 2;\n      img {\n        width: px2rem(80);\n        height: px2rem(40);\n      }\n      input {\n        flex: 1;\n        padding-left: px2rem(10);\n        height: px2rem(40);\n        border: 1px solid #ccc;\n      }\n    }\n\n  }\n\n  .login_box {\n    position: relative;\n    .input-box {\n      position: relative;\n      margin-left: px2rem(20);\n      width: 90%;\n      height: px2rem(65);\n      background-size: 0.7rem 0.7rem;\n      border-bottom: 1px #E5E5E5 solid;\n      padding-top: px2rem(20);\n    }\n    .label {\n      padding: 0;\n      font-size: px2rem(17);\n      color: #858E9F;\n    }\n    .get-msg {\n      position: absolute;\n      right: 0;\n      top: px2rem(46);\n      font-size: px2rem(12);\n      height: px2rem(30);\n      width: px2rem(90);\n      color: #508CEE;\n      border: 1px solid #508CEE;\n      border-radius: px2rem(6)\n    }\n    .input {\n      position: absolute;\n      left: 0;\n      bottom: 0;\n      @include placeholder(#dedede);\n      height: px2rem(24) !important;\n      margin: px2rem(10) 0;\n      width: 50%;\n      border: none;\n      box-sizing: border-box;\n      font-size: px2rem(16);\n      color: #333;\n      outline: none;\n    }\n  }\n\n  .tijiao {\n    background: #fff;\n    color: #cccccc;\n    border: 1px solid #cccccc;\n    font-size: px2rem(18);\n    border-radius: px2rem(6);\n    width: px2rem(255);\n    height: px2rem(44);\n    margin: px2rem(66) auto 0;\n    text-align: center;\n    display: block;\n    &.active {\n      color: #508CEE;\n      border: 1px solid #508CEE;\n    }\n  }\n\n  .infos {\n    margin: px2rem(60) auto 0;\n    width: px2rem(315);\n    height: px2rem(34);\n    color: #B3B3B3;\n  }\n\n  .login_box .forget {\n    margin-top: 0.2rem;\n    color: #1badff;\n    position: absolute;\n    right: 5%;\n  }\n\n  .login_box .forget2 {\n    color: #333;\n  }\n\n  .fade-enter-active, .fade-leave-active {\n    transition: opacity .6s;\n  }\n\n  .fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */\n  {\n    opacity: 0;\n  }\n\n  .bottomcontent {\n    /*position: absolute;*/\n    margin-top: px2rem(100);\n    width: 100%;\n    text-align: center;\n    font-size: 0;\n    color: #333;\n    img {\n      vertical-align: top;\n      width: .5rem;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ZhongBang/login/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('app-bar',{attrs:{\"title\":\"安全登录\"}}),_vm._v(\" \"),_c('div',{staticClass:\"logo-box\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/common/logo@2x.png\"),\"alt\":\"\"},on:{\"click\":_vm.goBicaiOpen}}),_vm._v(\" \"),_c('span',[_vm._v(\"比财平台\"+_vm._s(_vm.BANK_NAME)+\"直销银行\")])]),_vm._v(\" \"),_c('div',{staticClass:\"login_box\"},[_c('section',{staticClass:\"input-box\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.telShow),expression:\"telShow\"}],staticClass:\"label\"},[_vm._v(\"开户手机号\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tel),expression:\"tel\"}],staticClass:\"input\",attrs:{\"type\":\"tel\",\"name\":\"text1\",\"placeholder\":_vm.telPaceholder},domProps:{\"value\":(_vm.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.tel=$event.target.value}}})],1),_vm._v(\" \"),_c('section',{staticClass:\"input-box\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cmsShow),expression:\"cmsShow\"}],staticClass:\"label\"},[_vm._v(\"短信验证码\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cms),expression:\"cms\"}],staticClass:\"input\",attrs:{\"type\":\"input\",\"name\":\"text1\",\"placeholder\":_vm.cmsholder},domProps:{\"value\":(_vm.cms)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.cms=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"get-msg\",attrs:{\"disabled\":_vm.msgDisabled},on:{\"click\":_vm.clickMsgCodeHandle}},[_vm._v(_vm._s(_vm.codeText))])],1),_vm._v(\" \"),_c('button',{class:{tijiao:true,active:_vm.canClick},attrs:{\"disabled\":!_vm.canClick},on:{\"click\":function($event){_vm.loginFactory(_vm.ORG_ID)}}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('p',{staticClass:\"infos\"},[_vm._v(\"\\n      温馨提示：未注册比财账号的手机号，登录时将自动注册，且代表您已同意《用户服务协议》和《比财隐私政策》\\n    \")])]),_vm._v(\" \"),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSafeCode),expression:\"showSafeCode\"}],staticClass:\"safe-code\"},[_c('div',[_c('p',[_vm._v(\"请填写图形验证码\")]),_vm._v(\" \"),_c('section',{staticClass:\"middle\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.safeCode),expression:\"safeCode\"}],attrs:{\"type\":\"tel\",\"placeholder\":\"请输入图形验证码\"},domProps:{\"value\":(_vm.safeCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.safeCode=$event.target.value}}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.safeCodeUrl+ _vm.SESSION_ID,\"alt\":\"\"},on:{\"click\":_vm.reImg}})]),_vm._v(\" \"),_c('section',{staticClass:\"btn\"},[_c('button',{on:{\"click\":function($event){_vm.showSafeCode=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.getSafeCode}},[_vm._v(\"确定\")])])])]),_vm._v(\" \"),_c('section',{staticClass:\"bottomcontent\"},[_c('p',[_c('img',{attrs:{\"src\":require(\"@/assets/images/icon_dunpai@2x.png\"),\"alt\":\"\"}}),_vm._v(\"\\n      \"+_vm._s(_vm.BANK_NAME)+\"银行已与比财实现安全直连\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-460240a7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ZhongBang/login/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-460240a7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-460240a7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-460240a7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ZhongBang/login/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}