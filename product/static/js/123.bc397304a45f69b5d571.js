webpackJsonp([123],{"0V7p":function(t,e){},AjaE:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),i=a.n(s),n=a("0jG4"),o=a("j3CC"),r=a("EOwk"),c=a("b1t1"),l=a("MmTA"),_=a("JIj5"),u=a("msXN"),d=void 0,A={data:function(){return{codeText:"获取验证码",msgdisable:!1,msgCode:"",html:"协议",page:!1,APPLY_AMOUNT:"",toUrl:"",CARD_BANK_NAME:"",imgSrc:r.g,pass:"",len:null,passCode:"",logo:"",ifCheckMoneyEmpty:!0,ACC_REST:"200",DAY_REST:"10000"}},components:{AppBar:o.a,PassWordZhengzhou:c.a},watch:{APPLY_AMOUNT:function(t){this.ifCheckMoneyEmpty=!(t>0)}},computed:{canClick:function(){return!(!this.APPLY_AMOUNT||!this.msgCode)}},mixins:[u.a.HandleMixin,u.a.UtilMixin],created:function(){this.getUserInfos(),this.ACC_REST=this.$route.query.ACC_REST||"200"},methods:{getMsg:function(){var t=this;if(!_.a.Check.trim(this.APPLY_AMOUNT,"提现金额",!0))if(this.APPLY_AMOUNT-0>this.ACC_REST-0)l.a.$emit(r.a.showToast,"提现金额大于卡内余额，请调整提现金额");else{var e=60;this.msgdisable=!0,d=setInterval(function(){if(0==e)return t.codeText="重新发送",t.msgdisable=!1,void clearInterval(d);e--,t.codeText=e+"s"},1e3),this.getCode()}},getCode:function(){var t=this.getComState.TEL,e={PHONE_NUM:t,BIZ_TYPE:"1005",AMOUNT:this.APPLY_AMOUNT};n.a.common.apiSendPhoneCode(e,function(e){l.a.$emit(r.a.showSendMsg,t)})},checkMoney:function(){},getUserInfos:function(){var t=this;n.a.safe.apiBandCard({},function(e){t.CARD_BANK_NAME=e.CARD_BANK_NAME,t.logo=e.CARD_BANK_URL})},doWithdraw:function(){var t=this,e={PHONE_CODE:this.msgCode,EITHDRAW_All:"1",APPLY_AMOUNT:this.APPLY_AMOUNT,VRFY_FLAG:"00",EITH_DRAW_ALL:"0"};this.show=!1,n.a.withdraw.apiCash(e,function(e){var a={BIZ_TYPE:"4",BESHARP_SEQ:e.TXN_REF_NO};t.queryStatus({text:"提现中",data:a,fn:function(a,s,n){if(t.setComState({type:"reload",value:!0}),"1"==a.RES_CODE)clearInterval(s),l.a.$emit(r.a.showToast,a.RES_MSG),t.$router.push({name:r.e.WithdrawFaild,query:{err:a.RES_MSG}});else if("0"==a.RES_CODE)clearInterval(s),l.a.$emit(r.a.showToast,a.RES_MSG),t.Londing.close(),t.$router.push({name:r.e.WithdrawSuccess,query:i()({money:t.APPLY_AMOUNT},e)});else if("20000"==a.RES_CODE)clearInterval(s),t.Londing.close(),t.$router.push({name:r.e.WaitForWithdraw,query:{err:a.RES_MSG}});else if(5==n){var o=a.RES_CODE+":"+a.RES_MSG;l.a.$emit(r.a.showToast,o),t.$router.push({name:r.e.WithdrawFaild,query:{err:o}})}}})},function(t){l.a.$emit(r.a.showToast,t)})},doNext:function(){_.a.Check.trim(this.APPLY_AMOUNT,"提现金额",!0)||(this.APPLY_AMOUNT-0>this.ACC_REST-0?l.a.$emit(r.a.showToast,"提现金额大于卡内余额，请调整提现金额"):this.doWithdraw())},clearNumHandle:function(){this.APPLY_AMOUNT=""}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app"},[s("app-bar",{attrs:{title:"提现"}}),t._v(" "),s("div",{staticClass:"rechargetitle"},[t._v("提现到"+t._s(t.CARD_BANK_NAME))]),t._v(" "),s("div",{staticClass:"minshengbank"},[s("span",{staticClass:"minshengbankLogo"},[s("img",{staticStyle:{width:"75%"},attrs:{src:t.imgSrc+t.logo,alt:""}})]),t._v("\n    "+t._s(t.CARD_BANK_NAME)+"\n  ")]),t._v(" "),s("div",{staticClass:"crow-line"}),t._v(" "),s("section",{staticClass:"inputAmount"},[s("span",{staticClass:"Amount"},[t._v("金额")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.APPLY_AMOUNT,expression:"APPLY_AMOUNT"}],attrs:{type:"number",placeholder:"请输入提现金额"},domProps:{value:t.APPLY_AMOUNT},on:{change:t.checkMoney,input:function(e){e.target.composing||(t.APPLY_AMOUNT=e.target.value)}}}),t._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:!t.ifCheckMoneyEmpty,expression:"!ifCheckMoneyEmpty"}],staticClass:"close-icon",attrs:{src:a("rfOz"),alt:""},on:{click:t.clearNumHandle}})]),t._v(" "),s("section",{staticClass:"inputAmount"},[s("span",{staticClass:"Amount"},[t._v("\n              验证码\n          ")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.msgCode,expression:"msgCode"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.msgCode},on:{input:function(e){e.target.composing||(t.msgCode=e.target.value)}}}),t._v(" "),s("button",{staticClass:"button",attrs:{disabled:t.msgdisable},on:{click:t.getMsg}},[t._v(t._s(t.codeText)+"\n    ")])]),t._v(" "),s("p",{staticClass:"info1"},[t._v("\n    本卡当前余额"+t._s(t._f("formatNum")(t.ACC_REST))+"元\n    "),s("span",{staticClass:"span",staticStyle:{color:"#389CFF"},on:{click:function(e){t.APPLY_AMOUNT=t.ACC_REST}}},[t._v("全部提现")])]),t._v(" "),s("button",{class:{tijiao:!0,active:t.canClick},attrs:{disabled:!t.canClick},on:{click:t.doNext}},[t._v("确认提现")])],1)},staticRenderFns:[]};var h=a("VU/8")(A,m,!1,function(t){a("0V7p")},"data-v-01b28986",null);e.default=h.exports}});
//# sourceMappingURL=123.bc397304a45f69b5d571.js.map