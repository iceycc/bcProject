webpackJsonp([98],{"3MC6":function(t,e){},ieuK:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("EOwk"),s=i("MmTA"),o=i("0jG4"),n=i("msXN"),r=(i("JIj5"),{data:function(){return{proDetail:{},moneyNum:null,payNum:"",agree:!0,imgSrc:a.g,INCRE_AMOUNT:""}},mixins:[n.a.HandleMixin],created:function(){this.getInfo(),this.proDetail=this.$route.query||this.getComState.goBuy},activated:function(){},methods:{getInfo:function(){var t=this;o.a.buy.apiQueryAccRest({},function(e){console.log(e),t.payNum=e.ACC_REST})},goReChang:function(){this.setComState({type:"OriginPage",value:this.$route.fullPath});var t={PRD_NAME:this.proDetail.PRD_NAME,id:this.proDetail.id,ORG_NAME:this.proDetail.ORG_NAME,LOGO_URL:this.proDetail.logo};this.setComState({type:"RechargeQuery",value:t}),this.$router.push({name:a.e.Recharge})},getAgreement:function(t){this.agree=!0,this.$router.push({name:a.e.DocsPage,query:{type:t,id:this.proDetail.id}})},checkMoneyNum:function(t){var e=this.proDetail.INCRE_AMOUNT;return t<parseInt(this.proDetail.TXT_MIN_AMOUNT)?(s.a.$emit(a.a.showToast,"投资金额小于起投金额，请调整投资金额"),!0):t%e!=0&&(s.a.$emit(a.a.showToast,"请输入递增金额的整数倍"),!0)},goBuy:function(){var t=this;console.log(this.moneyNum),this.agree?this.moneyNum?"number"!=typeof(this.moneyNum-0)||isNaN(this.moneyNum-0)?s.a.$emit(a.a.showToast,"请填写正确的金额"):this.moneyNum-0>this.payNum?s.a.$emit(a.a.showToast,"余额不足，请充值"):this.checkMoneyNum(this.moneyNum)||(this.moneyNum-0>this.REMAIN_AMT?s.a.$emit(a.a.showToast,"可投额度不足"):(this.Londing.open({spinnerType:"triple-bounce"}),setTimeout(function(){t.Londing.close()},500),this.$router.push({name:a.e.SureBuy,query:{money:this.moneyNum,PRD_NAME:this.proDetail.PRD_NAME,id:this.proDetail.id,ORG_NAME:this.proDetail.ORG_NAME,logo:this.proDetail.logo}}))):s.a.$emit(a.a.showToast,"请输入购买金额"):s.a.$emit(a.a.showToast,"请同意相关协议")}}}),l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app",attrs:{id:"app"}},[i("app-bar",{attrs:{title:"购买"}}),t._v(" "),i("div",{staticClass:"buytitle"},[i("div",{staticClass:"buytitleleft"},[i("div",{staticClass:"buytitleleftimg"},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.imgSrc+t.proDetail.logo,alt:""}})]),t._v(" "),i("div",{staticClass:"buytitleleftcontent"},[i("p",[t._v(t._s(t.proDetail.PRD_NAME))]),t._v(" "),i("p",{staticStyle:{color:"#666"}},[t._v("理财产品")])])]),t._v(" "),i("div",{staticClass:"buytitleright"},[i("p",[t._v("起购金额"+t._s(t.proDetail.TXT_MIN_AMOUNT))]),t._v(" "),i("p",[t._v("最小递增"+t._s(t.proDetail.INCRE_AMOUNT)+"元")])])]),t._v(" "),i("div",{staticClass:"buysuccessdetails"},[i("div",{staticClass:"buysuccessdetailleft"},[t._v("可用金额 "),i("strong",[t._v(t._s(t._f("formatNum")(t.payNum))+"元")])]),t._v(" "),i("div",{staticClass:"buysuccessdetailright",on:{click:t.goReChang}},[t._v("充值")])]),t._v(" "),i("div",{staticClass:"buydetails"},[i("p",{staticStyle:{"margin-top":"0.3rem"}},[t._v("购买金额")]),t._v(" "),i("span",{staticClass:"buydetailsmoney"},[t._v("￥")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.moneyNum,expression:"moneyNum"}],attrs:{type:"number",placeholder:t.proDetail.TXT_MIN_AMOUNT},domProps:{value:t.moneyNum},on:{input:function(e){e.target.composing||(t.moneyNum=e.target.value)}}})]),t._v(" "),i("p",{staticStyle:{"font-size":"0.3rem",padding:"0.4rem",color:"#666"}},[t._v("可投金额 "+t._s(t._f("formatNum")(t.proDetail.REMAIN_AMT))+"元")]),t._v(" "),i("button",{staticClass:"tijiao",on:{click:t.goBuy}},[t._v("购买")]),t._v(" "),i("p",{class:{bang:!0,no:0==t.agree},on:{click:function(e){t.agree=!t.agree}}},[t._v("我已阅读并同意注册\n    "),i("a",{staticStyle:{color:"#0096FE"},attrs:{href:"javascript:;"},on:{click:function(e){e.stopPropagation(),t.getAgreement("S")}}},[t._v("《投融资平台服务协议（投资人版）》")]),t._v(" "),i("a",{staticStyle:{color:"#0096FE"},attrs:{href:"javascript:;"},on:{click:function(e){e.stopPropagation(),t.getAgreement("B")}}},[t._v('《晋商银行直销银行"安鑫富"投融资协议》')])])],1)},staticRenderFns:[]};var u=i("VU/8")(r,l,!1,function(t){i("3MC6")},"data-v-2acf2760",null);e.default=u.exports}});
//# sourceMappingURL=98.bfc44851780bf83a9230.js.map