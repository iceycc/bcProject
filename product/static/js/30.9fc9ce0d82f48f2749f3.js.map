{"version":3,"sources":["webpack:///src/views/ZhongBang/buy/Buying.vue","webpack:///./src/views/ZhongBang/buy/Buying.vue?35dd","webpack:///./src/views/ZhongBang/buy/Buying.vue"],"names":["Buying_timer","Buying","data","proDetail","APPLY_AMOUNT","payNum","agree","imgSrc","Constant","INCRE_AMOUNT","msgCode","msgdisable","codeText","computed","placeholder","this","MIN_AMOUNT","ifCheckMoneyEmpty","canClick","mixins","StoreMixin","created","getInfo","getComState","goBuy","console","log","methods","clearNumHandle","_this","service","bank","apiQryEleAccount","res","ACC_REST","goReChang","setComState","type","value","$route","fullPath","$router","push","name","Recharge","getAgreement","DocsPage","query","checkAPPLY_AMOUNT","num","a","parseInt","bus","$emit","showToast","_this2","isNaN","REMAIN_AMT","Londing","open","spinnerType","setTimeout","close","doPay","getCode","TEL","PHONE_NUM","BIZ_TYPE","AMOUNT","common","apiSendPhoneCode","showSendMsg","getMsg","_this3","times","setInterval","clearInterval","polling","_this4","BESHARP_SEQ","BESHARP_ORDER_NO","text","i","timer","apiQueryBizStatus","result","RES_CODE","RES_MSG","BuyFailed","err","BuySuccess","_this5","PRD_ID","ID","PRD_INDEX_ID","TYPE","PHONE_CODE","ACCEPT_RISK","buy","apiBuy","buy_Buying","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","title","_v","staticStyle","width","src","LOGO_URL","alt","_s","ORG_NAME","color","PRD_NAME","_f","on","click","margin-top","directives","rawName","expression","domProps","input","$event","target","composing","__webpack_require__","disabled","class","tijiao","active","bang","no","href","stopPropagation","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/30.9fc9ce0d82f48f2749f3.js","sourcesContent":["<template>\n  <div id=\"app\" class=\"app\">\n    <app-bar title=\"存入\"></app-bar>\n    <div class=\"buytitle\">\n      <div class=\"buytitleleft\">\n        <div class=\"buytitleleftimg\">\n          <img :src=\"imgSrc+proDetail.LOGO_URL\" style=\"width:100%\" alt=\"\">\n        </div>\n        <div class=\"buytitleleftcontent\">\n          <p>{{proDetail.ORG_NAME}}</p>\n          <p style=\"color:#666\">{{proDetail.PRD_NAME}}</p>\n        </div>\n      </div>\n      <div class=\"buytitleright\">\n        <p>起购金额{{proDetail.MIN_AMOUNT}}元</p>\n        <p>最小递增{{proDetail.INCRE_AMOUNT}}元</p>\n      </div>\n    </div>\n\n    <div class=\"buysuccessdetails\">\n      <div class=\"buysuccessdetailleft\">可用金额 <strong>{{payNum | formatNum}}元</strong></div>\n      <div class=\"buysuccessdetailright\" @click=\"goReChang\">充值</div>\n    </div>\n    <div class=\"buydetails\">\n      <p style=\"margin-top: 0.3rem\">存入金额</p>\n      <span class=\"buydetailsmoney\">￥</span>\n      <!--<input type=\"number\" :placeholder=\"proDetail.MIN_AMOUNT\" v-model=\"APPLY_AMOUNT\">-->\n      <input type=\"number\" :placeholder=\"placeholder\" v-model=\"APPLY_AMOUNT\">\n      <img\n        v-show=\"!ifCheckMoneyEmpty\"\n        src=\"@/assets/images/icon_clear@2x.png\" alt=\"\" class=\"close-icon\" @click=\"clearNumHandle\">\n    </div>\n    <!--<p class=\"canpay\">可投金额 {{proDetail.REMAIN_AMT | formatNum}}元</p>-->\n    <section class=\"inputAmount\">\n            <span class=\"Amount\">\n                验证码\n            </span>\n      <input type=\"tel\" v-model=\"msgCode\" placeholder=\"输入验证码\">\n      <button\n        :disabled=\"msgdisable\"\n        @click=\"getMsg\"\n        class=\"button\">{{codeText}}\n      </button>\n    </section>\n    <button :class=\"{tijiao:true,active:canClick}\" @click=\"goBuy\" :disabled=\"!canClick\">存入</button>\n    <p @click=\"agree =!agree\"\n       :class=\"{'bang':true,'no':agree == false}\">我已阅读并同意\n      <a style=\" color:#0096FE;\" href=\"javascript:;\" @click.stop=\"getAgreement('buy')\">《众邦宝产品服务协议（个人活期版）》</a>\n    </p>\n\n  </div>\n</template>\n<script>\n  import {PageName, BusName, imgSrc, LsName} from \"@/Constant\"\n  import Bus from '@/plugin/bus'\n  import API from \"@/service\"\n  import Mixins from \"@/mixins\";\n\n  let time = 60\n  let timer;\n  export default {\n    data() {\n      return {\n        proDetail: {},\n        APPLY_AMOUNT: null,\n        payNum: '1000',\n        agree: true,\n        imgSrc: imgSrc,\n        INCRE_AMOUNT: '',\n        msgCode: '',\n        msgdisable: false,\n        codeText: '获取验证码',\n\n      }\n    },\n    computed: {\n      placeholder() {\n        let num = this.proDetail.MIN_AMOUNT || '0'\n        return num + '元起购'\n      },\n      ifCheckMoneyEmpty() {\n        if (this.APPLY_AMOUNT) {\n          return false\n        } else {\n          return true\n        }\n      },\n      canClick() {\n        if (this.APPLY_AMOUNT && this.msgCode && this.agree) {\n          return true\n        } else {\n          return false\n        }\n      }\n    },\n    mixins: [Mixins.StoreMixin],\n    created() {\n      this.getInfo()\n      this.proDetail = this.getComState.goBuy // 数据\n      console.log(this.proDetail);\n    },\n    methods: {\n      clearNumHandle() {\n        this.APPLY_AMOUNT = ''\n      },\n      getInfo() {\n        // 查询账户余额\n        API.bank.apiQryEleAccount({}, res => {\n          console.log(res);\n          this.payNum = res.ACC_REST || 1000// 账户余额(可用余额)\n          // this.payNum = 1000// 账户余额(可用余额)\n        })\n      },\n      goReChang() {\n        this.setComState({\n          type: 'OriginPage',\n          value: this.$route.fullPath\n        })\n\n        this.$router.push({\n          name: PageName.Recharge,\n        })\n      },\n      getAgreement(type) {\n        this.agree = true\n        this.$router.push({\n          name: PageName.DocsPage,\n          query: {\n            type,\n          }\n        })\n      },\n      checkAPPLY_AMOUNT(num) {\n        let a = this.proDetail.INCRE_AMOUNT\n        if (num < parseInt(this.proDetail.MIN_AMOUNT)) {\n          Bus.$emit(BusName.showToast, '投资金额小于起投金额，请调整投资金额')\n          return true\n        } else if (num % a != 0) {\n          Bus.$emit(BusName.showToast, '请输入递增金额的整数倍')\n          return true\n        } else {\n          return false\n        }\n      },\n      goBuy() {\n        if (!this.agree) {\n          Bus.$emit(BusName.showToast, '请同意相关协议')\n          return\n        }\n        if (!this.APPLY_AMOUNT) {\n          Bus.$emit(BusName.showToast, '请输入购买金额')\n          return\n        }\n        if (typeof (this.APPLY_AMOUNT - 0) != 'number' || isNaN(this.APPLY_AMOUNT - 0)) {\n          Bus.$emit(BusName.showToast, '请填写正确的金额')\n          return\n        }\n\n        if (this.APPLY_AMOUNT - 0 > this.payNum) {\n          Bus.$emit(BusName.showToast, '余额不足，请充值')\n          return\n        }\n        if (this.checkAPPLY_AMOUNT(this.APPLY_AMOUNT)) {\n          return\n        }\n        if (this.APPLY_AMOUNT - 0 > this.REMAIN_AMT) {\n          Bus.$emit(BusName.showToast, '可投额度不足')\n          return\n        }\n\n        this.Londing.open({\n          spinnerType: 'triple-bounce'\n        })\n        setTimeout(() => {\n          this.Londing.close()\n        }, 500)\n        this.doPay()\n        // this.$router.push({\n        //   name: PageName.SureBuy,\n        //   query: {\n        //     money: this.APPLY_AMOUNT,\n        //     PRD_NAME: this.proDetail.PRD_NAME,\n        //     id: this.proDetail.id,\n        //     ORG_NAME: this.proDetail.ORG_NAME,\n        //     logo: this.proDetail.logo,\n        //   }\n        // })\n\n      },\n      // 轮询查询交易状态！！\n\n      getCode() { // 充值短信\n        let TEL = this.getComState.TEL\n        let data = {\n          PHONE_NUM: TEL,\n          BIZ_TYPE: '1008', // 购买众邦需要\n          AMOUNT: this.APPLY_AMOUNT\n        }\n        API.common.apiSendPhoneCode(data, res => {\n          Bus.$emit(BusName.showSendMsg, TEL)\n        })\n      },\n      getMsg() {\n        let times = time\n        this.msgdisable = true\n        timer = setInterval(() => {\n          if (times == 0) {\n            this.codeText = '重新发送'\n            this.msgdisable = false\n            clearInterval(timer)\n            return\n          }\n          times--\n          this.codeText = `${times}s`\n        }, 1000)\n        this.getCode()\n      },\n      polling(res) {\n        let data = {\n          BIZ_TYPE: '6', // 购买\n          BESHARP_SEQ: res.BESHARP_ORDER_NO\n        }\n        // 交易轮询\n        this.Londing.open({\n          text: '正在购买中'\n        })\n        let i = 1\n        let timer = setInterval(() => {\n          i++\n          API.common.apiQueryBizStatus(data, result => {\n            if ('1' == result.RES_CODE || i == 5) {\n              this.Londing.close()\n              clearInterval(timer)\n              Bus.$emit(BusName.showToast, result.RES_MSG);\n              this.$router.push({\n                name: PageName.BuyFailed,\n                query: {\n                  err: result.RES_MSG\n                }\n              })\n            }\n            else if ('0' == result.RES_CODE) { // 成功\n              clearInterval(timer)\n              Bus.$emit(BusName.showToast, result.RES_MSG);\n              this.Londing.close()\n              this.setComState({type: 'buyData', value: result})\n              this.$router.push({\n                name: PageName.BuySuccess,\n              })\n              return\n            } else {\n              if (i > 5) {\n                clearInterval(timer)\n                Bus.$emit(BusName.showToast, result.RES_MSG);\n                this.$router.push({\n                  name: PageName.BuyFailed,\n                  query: {\n                    err: result.RES_MSG\n                  }\n                })\n                return\n              }\n            }\n          }, err => {\n            clearInterval(timer)\n            Bus.$emit(BusName.showToast, err);\n\n          })\n        }, 2000)\n      },\n      // 交易\n      // TYPE\t请求类型\n      // ORG_ID\t机构ID\n      // PRD_ID\t产品ID\n      // APPLY_AMOUNT\t购买金额\n      // PHONE_CODE\t短信验证码\n      // ACCEPT_RISK\t超出客户风险承受力时必填，需要确认  0 或空 表示未确认 1 表示已确认\n      doPay() {\n        let data = {\n          PRD_ID: (this.proDetail.ID || this.proDetail.PRD_INDEX_ID) + '',\n          TYPE: 'API_BUY',\n          APPLY_AMOUNT: this.APPLY_AMOUNT + '',\n          PHONE_CODE: this.msgCode,\n          ACCEPT_RISK: '1'\n        }\n        console.log(data);\n        API.buy.apiBuy(data, (res) => {\n          this.polling(res)\n        }, err => {\n          this.Londing.close()\n          this.setComState({type: \"reload\", value: true}) // reload-001\n          this.$router.push({\n            name: PageName.BuyFailed,\n            query: {\n              err: err\n            }\n          })\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"~@/assets/px2rem\";\n\n  body {\n    margin: 0;\n    padding: 0;\n  }\n\n  .buytitle {\n    width: 92%;\n    padding: 0.4rem 0.4rem;\n    border-top: 10px solid #F6F6F9;\n    border-bottom: 0.5rem solid #F6F6F9;\n    display: flex;\n    .buytitleleft {\n      display: inline-block;\n      flex: 1;\n      .buytitleleftimg {\n        vertical-align: middle;\n        padding-top: 0.2rem;\n        width: 1rem;\n        display: inline-block;\n\n      }\n      .buytitleleftcontent {\n        vertical-align: middle;\n        padding-top: -0.5rem;\n        display: inline-block;\n        padding-left: 0.4rem;\n        font-size: 0.35rem;\n      }\n    }\n\n    .buytitleright {\n      float: right;\n      text-align: right;\n      font-size: 0.35rem;\n      color: #666;\n    }\n  }\n\n  .canpay {\n    font-size: 0.3rem;\n    padding: px2rem(20);\n    color: #666\n  }\n\n  .buysuccessdetails {\n    padding: 0 px2rem(20);\n    line-height: 1.5rem;\n    height: 1.5rem;\n    font-size: 0.4rem;\n    border-bottom: 1px solid #EEEEF0;\n    .buysuccessdetailleft {\n      float: left;\n    }\n\n    .buysuccessdetailright {\n      color: #468EE5;\n      float: right;\n    }\n  }\n\n  .buydetails {\n    position: relative;\n    padding: 0 px2rem(20);\n    height: 2.2rem;\n    font-size: 0.4rem;\n    .close-icon {\n      position: absolute;\n      display: inline-block;\n      width: px2rem(15);\n      height: px2rem(15);\n      top: 50%;\n      right: px2rem(30);\n    }\n    border-bottom: 1px solid #EEEEF0;\n    .buydetailsmoney {\n      width: 1rem;\n      margin-top: 0.5rem;\n      font-size: 0.6rem;\n    }\n\n    input {\n      width: 50%;\n      border: none;\n      box-sizing: border-box;\n      font-size: 14px; /*px*/\n      color: #333;\n      line-height: 40px;\n      outline: none;\n    }\n\n    ::-webkit-input-placeholder {\n      font-size: 0.6rem\n    }\n\n    /* 使用webkit内核的浏览器 */\n    :-moz-placeholder {\n      font-size: 0.6rem\n    }\n\n    /* Firefox版本4-18 */\n    ::-moz-placeholder {\n      font-size: 0.6rem\n    }\n\n    /* Firefox版本19+ */\n    :-ms-input-placeholder {\n      font-size: 0.6rem\n    }\n  }\n\n  .tijiao {\n    font-size: px2rem(18);\n    color: #fff;\n    background: #ccc;\n    border-radius: px2rem(6);\n    line-height: 1.2rem;\n    width: px2rem(255);\n    margin: px2rem(30) auto px2rem(10);\n    text-align: center;\n    border: 0px;\n    outline: none;\n    display: block;\n    &.active {\n      background: #508CEE;\n    }\n  }\n\n  .bang {\n    margin-left: 0.5rem;\n    background: url(~@/assets/images/agree@3x.png) no-repeat 0 0.05rem;\n    background-size: 0.3rem 0.3rem;\n    font-size: px2rem(12);\n    color: #808080;\n    padding: 0 0.5rem;\n\n  }\n\n  .no {\n    background: url(~@/assets/images/onagree@3x.png) no-repeat 0 0.05rem;\n    background-size: 0.3rem 0.3rem;\n  }\n\n  .inputAmount {\n    padding-left: px2rem(20);\n    height: px2rem(40);\n    line-height: px2rem(40);\n    font-size: px2rem(14);\n    border-bottom: 1px solid #EEEEF0;\n    .button {\n      vertical-align: middle;\n      font-size: px2rem(14);\n      width: px2rem(84);\n      height: px2rem(28);\n      line-height: px2rem(28);\n      display: inline-block;\n      border: 1px solid #508CEE;\n      border-radius: px2rem(6);\n      color: #508CEE\n    }\n    input {\n      padding-left: px2rem(10);\n      width: px2rem(200);\n      border: none;\n      box-sizing: border-box;\n      font-size: px2rem(14);\n      color: #333;\n      outline: none;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ZhongBang/buy/Buying.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\",attrs:{\"id\":\"app\"}},[_c('app-bar',{attrs:{\"title\":\"存入\"}}),_vm._v(\" \"),_c('div',{staticClass:\"buytitle\"},[_c('div',{staticClass:\"buytitleleft\"},[_c('div',{staticClass:\"buytitleleftimg\"},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.imgSrc+_vm.proDetail.LOGO_URL,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"buytitleleftcontent\"},[_c('p',[_vm._v(_vm._s(_vm.proDetail.ORG_NAME))]),_vm._v(\" \"),_c('p',{staticStyle:{\"color\":\"#666\"}},[_vm._v(_vm._s(_vm.proDetail.PRD_NAME))])])]),_vm._v(\" \"),_c('div',{staticClass:\"buytitleright\"},[_c('p',[_vm._v(\"起购金额\"+_vm._s(_vm.proDetail.MIN_AMOUNT)+\"元\")]),_vm._v(\" \"),_c('p',[_vm._v(\"最小递增\"+_vm._s(_vm.proDetail.INCRE_AMOUNT)+\"元\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"buysuccessdetails\"},[_c('div',{staticClass:\"buysuccessdetailleft\"},[_vm._v(\"可用金额 \"),_c('strong',[_vm._v(_vm._s(_vm._f(\"formatNum\")(_vm.payNum))+\"元\")])]),_vm._v(\" \"),_c('div',{staticClass:\"buysuccessdetailright\",on:{\"click\":_vm.goReChang}},[_vm._v(\"充值\")])]),_vm._v(\" \"),_c('div',{staticClass:\"buydetails\"},[_c('p',{staticStyle:{\"margin-top\":\"0.3rem\"}},[_vm._v(\"存入金额\")]),_vm._v(\" \"),_c('span',{staticClass:\"buydetailsmoney\"},[_vm._v(\"￥\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.APPLY_AMOUNT),expression:\"APPLY_AMOUNT\"}],attrs:{\"type\":\"number\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.APPLY_AMOUNT)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.APPLY_AMOUNT=$event.target.value}}}),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.ifCheckMoneyEmpty),expression:\"!ifCheckMoneyEmpty\"}],staticClass:\"close-icon\",attrs:{\"src\":require(\"@/assets/images/icon_clear@2x.png\"),\"alt\":\"\"},on:{\"click\":_vm.clearNumHandle}})]),_vm._v(\" \"),_c('section',{staticClass:\"inputAmount\"},[_c('span',{staticClass:\"Amount\"},[_vm._v(\"\\n              验证码\\n          \")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msgCode),expression:\"msgCode\"}],attrs:{\"type\":\"tel\",\"placeholder\":\"输入验证码\"},domProps:{\"value\":(_vm.msgCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.msgCode=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"button\",attrs:{\"disabled\":_vm.msgdisable},on:{\"click\":_vm.getMsg}},[_vm._v(_vm._s(_vm.codeText)+\"\\n    \")])]),_vm._v(\" \"),_c('button',{class:{tijiao:true,active:_vm.canClick},attrs:{\"disabled\":!_vm.canClick},on:{\"click\":_vm.goBuy}},[_vm._v(\"存入\")]),_vm._v(\" \"),_c('p',{class:{'bang':true,'no':_vm.agree == false},on:{\"click\":function($event){_vm.agree =!_vm.agree}}},[_vm._v(\"我已阅读并同意\\n    \"),_c('a',{staticStyle:{\"color\":\"#0096FE\"},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){$event.stopPropagation();_vm.getAgreement('buy')}}},[_vm._v(\"《众邦宝产品服务协议（个人活期版）》\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b87a5b28\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ZhongBang/buy/Buying.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b87a5b28\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Buying.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Buying.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Buying.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b87a5b28\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Buying.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b87a5b28\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ZhongBang/buy/Buying.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}