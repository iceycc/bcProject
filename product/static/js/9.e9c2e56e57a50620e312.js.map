{"version":3,"sources":["webpack:///src/views/ZhengZhou/financingList/TransactionDetails.vue","webpack:///./src/views/ZhengZhou/financingList/TransactionDetails.vue?fb37","webpack:///./src/views/ZhengZhou/financingList/TransactionDetails.vue"],"names":["TransactionDetails","data","cur","pageList1","TRANS_TYPE_NAME","TRANS_TIEM","TRANS_AMT","PRD_NAME","searchCondition","pageNo","pageSize","pageList","allLoaded","scrollMode","pageList3","tabsParam","nowIndex","startDate","endDate","divSizeObj","small","large","FUND_NO","PRD_INDEX_ID","watch","this","loadPageList","setEleSize","created","$route","query","components","v-loadmore","loadmore_default","a","mounted","methods","getData","tap","index","console","log","winheight","util","getWinSize","winHeight","topheight","getDivSize","height","toptabsheight","tDateheight","maiheight","document","querySelector","style","top","loadTop","$refs","loadmore","onTopLoaded","loadBottom","more","onBottomLoaded","getLastMonthYestdy","apiQryTradeHis","_this","parseInt","TYPE","QRY_TYPE","PRD_TYPE","currentPage","START_DATE","END_DATE","service","bank","apiQryIncomHis","res","concat","PAGE","retList","totalPage","bus","$emit","Constant","showToast","apiQryBuyHis","start","end","_this2","length","$nextTick","toggleTabs","setDate","_this3","$picker","show","type","endTime","getLastYearYestdy","startTime","onOk","fomateDate","setDate2","_this4","date","e","d","split","map","item","join","n","Date","daysInMonth","Array","strYear","getFullYear","strDay","getDate","strMonth","getMonth","Math","min","checkTime","star","begintime","endtime","time1","getTime","time2","arr1","arr2","flag","financingList_TransactionDetails","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","_v","class","actvie","on","click","$event","_l","active","_s","directives","name","rawName","value","expression","-webkit-overflow-scrolling","ref","top-method","bottom-method","bottom-all-loaded","auto-fill","key","staticStyle","display","flex","width","text-align","color","_e","OPERA_TIME","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.e9c2e56e57a50620e312.js","sourcesContent":["<template>\n  <div class=\"wrap\">\n    <div class=\"wrap-top\">\n      <app-bar title=\"明细\"></app-bar>\n      <ul class=\"w-tap\">\n        <li :class=\"{actvie:cur==1}\" @click=\"tap(1)\">收益明细</li>\n        <li :class=\"{actvie:cur==2}\" @click=\"tap(2)\">交易明细</li>\n      </ul>\n      <ul class=\"tabs\">\n        <li class=\"li-tab\" v-for=\"(item,index) in tabsParam\" @click=\"toggleTabs(index)\"\n            :class=\"{active:index==nowIndex}\">{{item}}\n        </li>\n      </ul>\n    </div>\n    <div class=\"t-tab\">\n      <div class=\"divTab\">\n        <div class=\"t-date\" v-show=\"nowIndex===3\">\n          <ul>\n            <li @click=\"setDate2\">\n              {{startDate}}\n              <span></span>\n            </li>\n            <li @click=\"setDate\">\n              {{endDate}}\n              <span></span>\n            </li>\n          </ul>\n          <div class=\"t-query\" @click=\"query\">查询</div>\n        </div>\n        <p class=\"t-text\" v-show=\"nowIndex===3\">根据银行要求，只能查询最近两年记录，每次查询最大范围三个月</p>\n        <div class=\"t-content main-body\" :style=\"{'-webkit-overflow-scrolling': scrollMode}\">\n          <v-loadmore :top-method=\"loadTop\" :bottom-method=\"loadBottom\" :bottom-all-loaded=\"allLoaded\"\n                      :auto-fill=\"false\" ref=\"loadmore\">\n            <div>\n              <ul>\n                <li v-for=\"(item,index) in pageList\" :key=\"index\">\n                  <h5 style=\"display: flex\">\n                    <span style=\"flex: 1\">{{PRD_NAME}}</span>\n                    <span style=\"width: 40%;text-align: right;color: #E62224\" v-if=\"cur==1\">收益</span>\n                    <span style=\"width: 40%;text-align: right;color: #E62224\" v-if=\"cur==2 && item.TYPE==1\">买入</span>\n                    <span style=\"width: 40%;text-align: right;color: #E62224\" v-if=\"cur==2 && item.TYPE==2\">赎回</span>\n                  </h5>\n                  <p>\n                    <span>{{item.OPERA_TIME }}</span>\n                    <!--1:买入 2:赎回-->\n                    <em>{{item.TYPE==2?'-':'+'}} {{item.TRANS_AMT}}</em>\n                  </p>\n                </li>\n\n              </ul>\n            </div>\n          </v-loadmore>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n<script>\n  import API from \"@/service\";\n  import {BusName} from \"@/Constant\";\n  import Bus from \"@/plugin/bus\";\n  import {Loadmore} from \"mint-ui\"\n  import util from \"libs/util\";\n\n\n  export default {\n    data() {\n      return {\n        cur: 1,\n        pageList1: [{\n          TRANS_TYPE_NAME: '百度',\n          TRANS_TIEM: 'AAA',\n          TRANS_AMT: '11'\n\n        }],\n        PRD_NAME: '',\n        // 1月分页\n        searchCondition: {\n          //分页属性\n          pageNo: \"1\",\n          pageSize: \"10\"\n        },\n        pageList: [],\n        allLoaded: false, //是否可以上拉属性，false可以上拉，true为禁止上拉，就是不让往上划加载数据了\n        scrollMode: \"auto\", //移动端弹性滚动效果，touch为弹性滚动，auto是非弹性滚动\n        pageList3: [],\n        tabsParam: [\"近一个月\", \"近二个月\", \"近三个月\", \" \"], //（这个也可以用对象key，value来实现）\n        nowIndex: 0, //默认第一个tab为激活状态\n        startDate: \"\",\n        endDate: \"\",\n        divSizeObj: {\n          small: {},\n          large: {}\n        },\n\n        FUND_NO: '',\n        PRD_INDEX_ID: ''\n      };\n    },\n    watch: {\n      cur() {\n        this.loadPageList(); //初次访问查  询列表\n        this.setEleSize()\n      }\n    },\n    created() {\n      this.FUND_NO = this.$route.query.FUND_NO\n      this.PRD_INDEX_ID = this.$route.query.PRD_INDEX_ID\n      this.PRD_NAME = this.$route.query.PRD_NAME\n    },\n    components: {\n      \"v-loadmore\": Loadmore // 为组件起别名，vue转换template标签时不会区分大小写，例如：loadMore这种标签转换完就会变成loadmore，容易出现一些匹配问题\n      // 推荐应用组件时用a-b形式起名\n    },\n    mounted() {\n      //交易数据\n      this.loadPageList(); //初次访问查  询列表\n      this.setEleSize()\n\n    },\n    methods: {\n      getData() {\n        if (this.cur == 1) {\n\n        }\n        if (this.cur == 2) {\n\n        }\n      },\n      tap(index) {\n        this.cur = index\n      },\n      setEleSize() {\n        console.log(this.nowIndex);\n        let winheight = util.getWinSize().winHeight\n        let topheight = util.getDivSize('.wrap-top').height\n        let toptabsheight = util.getDivSize('.tabs').height\n        let tDateheight = this.nowIndex == 3 ? toptabsheight : 0\n        let maiheight = winheight - topheight - tDateheight\n        console.log(topheight, maiheight, tDateheight)\n        document.querySelector('.t-tab').style.top = topheight + 'px'\n        document.querySelector('.main-body').style.height = maiheight + 'px'\n      },\n      loadTop: function () {\n        //组件提供的下拉触发方法\n        //下拉加载\n        this.loadPageList();\n        this.$refs.loadmore.onTopLoaded(); // 固定方法，查询完要调用一次，用于重新定位\n\n      },\n      loadBottom: function () {\n        // 上拉加载\n        this.more(); // 上拉触发的分页查询\n        this.$refs.loadmore.onBottomLoaded(); // 固定方法，查询完要调用一次，用于重新定位\n\n      },\n      loadPageList: function () {\n        this.searchCondition.pageNo = \"1\";\n        this.allLoaded = false;\n        let index = this.nowIndex\n        this.setEleSize()\n        if (this.nowIndex == 3) {\n          index = 0\n        }\n        this.endDate = this.getLastMonthYestdy(0);\n        this.startDate = this.getLastMonthYestdy(index + 1);\n        this.apiQryTradeHis(this.startDate, this.endDate); //交易数据\n\n      },\n      more: function () {\n        // 分页查询\n        this.searchCondition.pageNo =\n          \"\" + (parseInt(this.searchCondition.pageNo) + 1);\n        let data = {\n          TYPE: 'API_QRY_BUY_HIS',\n          QRY_TYPE: '0',\n          PRD_TYPE: '1',\n          FUND_NO: this.FUND_NO,\n          PRD_INDEX_ID: this.PRD_INDEX_ID,\n          currentPage: this.searchCondition.pageNo,\n          START_DATE: this.startDate,\n          END_DATE: this.endDate\n        };\n\n        if (this.cur == 1) {\n          API.bank.apiQryIncomHis(data, res => {\n\n            this.pageList = this.pageList.concat(res.PAGE.retList);\n            if (res.PAGE.currentPage  == res.PAGE.totalPage) {\n              this.allLoaded = true;\n              Bus.$emit(BusName.showToast, \"数据全部加载完成\");\n            }\n          });\n        }\n        if (this.cur == 2) {\n          API.bank.apiQryBuyHis(data, res => {\n\n            this.pageList = this.pageList.concat(res.PAGE.retList);\n            if (res.PAGE.currentPage  == res.PAGE.totalPage) {\n              this.allLoaded = true;\n              Bus.$emit(BusName.showToast, \"数据全部加载完成\");\n            }\n          });\n        }\n      },\n\n      apiQryTradeHis(start, end) {\n\n        let data = {\n          TYPE: 'API_QRY_BUY_HIS',\n          currentPage: \"1\",\n          QRY_TYPE: '0',\n          PRD_TYPE: '1',\n          FUND_NO: this.FUND_NO,\n          PRD_INDEX_ID: '',\n          // PRD_INDEX_ID:'',\n          START_DATE: start,\n          END_DATE: end\n        };\n\n        if (this.cur == 1) {\n          API.bank.apiQryIncomHis(data, res => {\n            this.pageList = res.PAGE.retList;\n            if (this.pageList.length < this.searchCondition.pageSize) {\n              this.allLoaded = true;\n            }\n            if (this.pageList.length <= 0) {\n              Bus.$emit(BusName.showToast, \"暂无数据\");\n            }\n            this.$nextTick(function () {\n              // 原意是DOM更新循环结束时调用延迟回调函数，大意就是DOM元素在因为某些原因要进行修改就在这里写，要在修改某些数据后才能写，\n              // 这里之所以加是因为有个坑，iphone在使用-webkit-overflow-scrolling属性，就是移动端弹性滚动效果时会屏蔽loadmore的上拉加载效果，\n              // 花了好久才解决这个问题，就是用这个函数，意思就是先设置属性为auto，正常滑动，加载完数据后改成弹性滑动，安卓没有这个问题，移动端弹性滑动体验会更好\n              this.scrollMode = \"touch\";\n            });\n\n          });\n        }\n        if (this.cur == 2) {\n          API.bank.apiQryBuyHis(data, res => {\n            this.pageList = res.PAGE.retList;\n            if (this.pageList.length < this.searchCondition.pageSize) {\n              this.allLoaded = true;\n            }\n            if (this.pageList.length <= 0) {\n              Bus.$emit(BusName.showToast, \"暂无数据\");\n            }\n            this.$nextTick(function () {\n              // 原意是DOM更新循环结束时调用延迟回调函数，大意就是DOM元素在因为某些原因要进行修改就在这里写，要在修改某些数据后才能写，\n              // 这里之所以加是因为有个坑，iphone在使用-webkit-overflow-scrolling属性，就是移动端弹性滚动效果时会屏蔽loadmore的上拉加载效果，\n              // 花了好久才解决这个问题，就是用这个函数，意思就是先设置属性为auto，正常滑动，加载完数据后改成弹性滑动，安卓没有这个问题，移动端弹性滑动体验会更好\n              this.scrollMode = \"touch\";\n            });\n\n          });\n        }\n\n\n      },\n      toggleTabs(index) {\n        this.nowIndex = index;\n        this.pageList = []\n        this.loadPageList();\n      },\n      setDate() {\n        this.$picker.show({\n          type: \"datePicker\",\n          endTime: this.getLastYearYestdy(0), //截至时间\n          startTime: this.getLastYearYestdy(2), //开始时间\n          onOk: data => {\n            this.endDate = this.fomateDate(data);\n          }\n        });\n      },\n      setDate2() {\n        this.$picker.show({\n          type: \"datePicker\",\n          date: this.startDate, //初始化时间\n          endTime: this.getLastYearYestdy(0), //截至时间\n          startTime: this.getLastYearYestdy(2), //开始时间\n          onOk: e => {\n            this.startDate = this.fomateDate(e);\n          }\n        });\n      },\n      fomateDate(d) {\n        let strDate = d;\n        let strDate1 = strDate.split(\"-\");\n\n        let strDate2 = strDate1.map(function (item) {\n          return item.length > 1 ? item : 0 + item;\n        });\n        return strDate2.join(\"-\");\n      },\n      // 获取前几个月份\n      getLastMonthYestdy(n) {\n        var date = new Date(); //        1    2    3    4    5    6    7    8    9   10    11   12月\n        var daysInMonth = new Array(\n          [0],\n          [31],\n          [28],\n          [31],\n          [30],\n          [31],\n          [30],\n          [31],\n          [31],\n          [30],\n          [31],\n          [30],\n          [31]\n        );\n        var strYear = date.getFullYear();\n        var strDay = date.getDate();\n        var strMonth = date.getMonth() + 1;\n        if (strYear % 4 == 0 && strYear % 100 != 0) {\n          //一、解决闰年平年的二月份天数   //平年28天、闰年29天//能被4整除且不能被100整除的为闰年\n          daysInMonth[2] = 29;\n        }\n        if (strMonth - n == 0) {\n          //二、解决跨年问题\n          strYear -= 1;\n          strMonth = 12;\n        } else {\n          strMonth -= n;\n        }\n        //        strDay = daysInMonth[strMonth] >= strDay ? strDay : daysInMonth[strMonth];\n        strDay = Math.min(strDay, daysInMonth[strMonth]); //三、前一个月日期不一定和今天同一号，例如3.31的前一个月日期是2.28；9.30前一个月日期是8.30\n\n        if (strMonth < 10) {\n          //给个位数的月、日补零\n          strMonth = \"0\" + strMonth;\n        }\n        if (strDay < 10) {\n          strDay = \"0\" + strDay;\n        }\n        let datastr = strYear + \"-\" + strMonth + \"-\" + strDay;\n        return datastr;\n      },\n      checkTime(star, end) {\n        var begintime = star;\n        var endtime = end;\n        if (!endtime) {\n          return true;\n        }\n\n        var time1 = new Date(begintime).getTime();\n        var time2 = new Date(endtime).getTime();\n        if (begintime == \"\") {\n          Bus.$emit(BusName.showToast, \"开始日期不能为空\");\n          return false;\n        }\n        if (endtime == \"\") {\n          Bus.$emit(BusName.showToast, \"结束日期不能为空\");\n          return false;\n        }\n        if (time1 > time2) {\n          Bus.$emit(BusName.showToast, \"开始日期不能大于结束日期\");\n          return false;\n        }\n\n        //判断时间跨度是否大于3个月\n        var arr1 = begintime.split(\"-\");\n        var arr2 = endtime.split(\"-\");\n        arr1[1] = parseInt(arr1[1]);\n        arr1[2] = parseInt(arr1[2]);\n        arr2[1] = parseInt(arr2[1]);\n        arr2[2] = parseInt(arr2[2]);\n        var flag = true;\n        if (arr1[0] == arr2[0]) {\n          //同年\n          if (arr2[1] - arr1[1] > 3) {\n            //月间隔超过3个月\n            flag = false;\n          } else if (arr2[1] - arr1[1] == 3) {\n            //月相隔3个月，比较日\n            if (arr2[2] > arr1[2]) {\n              //结束日期的日大于开始日期的日\n              flag = false;\n            }\n          }\n        } else {\n          //不同年\n          if (arr2[0] - arr1[0] > 1) {\n            flag = false;\n          } else if (arr2[0] - arr1[0] == 1) {\n            if (arr1[1] < 10) {\n              //开始年的月份小于10时，不需要跨年\n              flag = false;\n            } else if (arr1[1] + 3 - arr2[1] < 12) {\n              //月相隔大于3个月\n              flag = false;\n            } else if (arr1[1] + 3 - arr2[1] == 12) {\n              //月相隔3个月，比较日\n              if (arr2[2] > arr1[2]) {\n                //结束日期的日大于开始日期的日\n                flag = false;\n              }\n            }\n          }\n        }\n        if (!flag) {\n          // alert(\"时间跨度不得超过3个月！\");\n          Bus.$emit(BusName.showToast, \"查询日期范围太大，最大可查三个月的记录\");\n          return false;\n        }\n        return true;\n      },\n      // 获取前n年的日期\n      getLastYearYestdy(n) {\n        var date = new Date();\n        var strYear = date.getFullYear() - n;\n        var strDay = date.getDate();\n        var strMonth = date.getMonth() + 1;\n\n        if (strMonth < 10) {\n          strMonth = \"0\" + strMonth;\n        }\n        if (strDay < 10) {\n          strDay = \"0\" + strDay;\n        }\n        let datastr = strYear + \"-\" + strMonth + \"-\" + strDay;\n        return datastr;\n      },\n      query() {\n        this.checkTime(this.startDate, this.endDate);\n        this.apiQryTradeHis(this.startDate, this.endDate); //交易数据\n      }\n    }\n  };\n</script>\n\n<style lang=\"scss\">\n  // .pro .header img{ display:none;}\n  // .pro .header{ border-bottom:1px solid #518BEE;}\n  .m-picker .m-picker-header span:last-of-type {\n    color: #508cee;\n  }\n</style>\n\n<style lang=\"scss\" scoped>\n  @import \"~@/assets/px2rem\";\n\n  .icon {\n    position: absolute;\n  }\n\n  .icon:after {\n    display: block;\n    content: \"\";\n    width: px2rem(22);\n    height: px2rem(22);\n    display: block;\n    margin-top: px2rem(10);\n    z-index: 2;\n    background: url(\"~@/assets/images/icon_shaixuan@2x.png\") no-repeat;\n    background-size: 100%;\n  }\n\n  .wrap {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    background: #f4f4f8;\n    overflow: hidden;\n  }\n\n  .wrap-top {\n    position: absolute;\n    width: 100%;\n    top: 0;\n    .tabs {\n      position: relative;\n      display: flex;\n      height: px2rem(44);\n      line-height: px2rem(44);\n      background: #fff;\n      li {\n        flex: 1;\n        text-align: center;\n        font-size: px2rem(15);\n        color: #b3b3b3;\n      }\n      li:last-child {\n        position: relative;\n        width: px2rem(60);\n        height: px2rem(44);\n        flex: none;\n        border-left: px2rem(1) solid #f6f6f9;\n      }\n      li:last-child:after {\n        position: absolute;\n        content: \"\";\n        width: px2rem(22);\n        height: px2rem(22);\n        display: block;\n        z-index: 2;\n        background: url(\"~@/assets/images/icon_shaixuan@2x.png\") no-repeat;\n        background-size: 100%;\n        top: 0;\n        left: 0;\n        right: 0;\n        margin: px2rem(12) auto 0;\n      }\n      li.active:last-child:after {\n        position: absolute;\n        content: \"\";\n        width: px2rem(22);\n        height: px2rem(22);\n        display: block;\n        z-index: 2;\n        background: url(\"~@/assets/images/icon_shaixuan-1@2x.png\") no-repeat;\n        background-size: 100%;\n        top: 0;\n        left: 0;\n        right: 0;\n        margin: px2rem(12) auto 0;\n      }\n\n      li.active {\n        color: #508cee;\n      }\n    }\n  }\n\n  .t-tab {\n    position: absolute;\n    width: 100%;\n    .divTab {\n      .t-content {\n        h4 {\n          color: #b3b3b3;\n          font-size: px2rem(14);\n          line-height: px2rem(20);\n          padding: px2rem(16) px2rem(15) px2rem(4);\n          font-weight: normal;\n        }\n        div {\n          margin-top: px2rem(5);\n          overflow: hidden;\n          ul {\n            background: #fff;\n            li {\n              display: block;\n              border-bottom: px2rem(1) solid #e7e7e7;\n              padding: px2rem(10) 0;\n              margin: 0 px2rem(15);\n\n              h5 {\n                font-size: px2rem(14);\n                line-height: px2rem(20);\n                color: #121b32;\n                font-weight: normal;\n                padding-bottom: px2rem(4);\n              }\n              p {\n                span {\n                  font-size: px2rem(12);\n                  line-height: px2rem(17);\n                  display: inline-block;\n                  padding-right: px2rem(20);\n                  color: #858e9f;\n                }\n                em {\n                  font-size: px2rem(18);\n                  float: right;\n                  line-height: px2rem(25);\n                  color: #333333;\n                }\n              }\n            }\n            li:last-child {\n              border-bottom: none;\n            }\n          }\n          ul:last-child {\n            border-bottom: none;\n          }\n        }\n      }\n      // padding-bottom: px2rem(16);\n    }\n\n    .t-date {\n      height: px2rem(44);\n      background: #efefef;\n      line-height: px2rem(44);\n      position: relative;\n      ul {\n        margin-right: px2rem(60);\n        display: flex;\n        li {\n          flex: 1;\n          display: inline-block;\n          font-size: px2rem(15);\n          color: #666666;\n          padding-left: px2rem(20);\n          span {\n            display: inline-block;\n            height: 0;\n            width: 0;\n            border-right: px2rem(5) solid transparent;\n            border-top: px2rem(6) solid #666666;\n            border-left: px2rem(5) solid transparent;\n            margin-left: px2rem(10);\n          }\n        }\n      }\n      .t-query {\n        width: px2rem(60);\n        height: px2rem(44);\n        color: #508cee;\n        font-size: px2rem(15);\n        position: absolute;\n        right: 0;\n        top: 0;\n        text-align: center;\n      }\n    }\n    .t-text {\n      padding: 0 px2rem(15);\n      font-size: px2rem(12);\n      color: #858e9f;\n      padding-top: px2rem(10);\n      line-height: px2rem(17);\n    }\n  }\n\n  .main-body {\n    overflow: auto;\n    box-sizing: border-box;\n    padding-bottom: px2rem(50);\n  }\n\n  .w-tap {\n    display: flex;\n    li {\n      font-size: px2rem(16);\n      flex: 1;\n      height: px2rem(30);\n      line-height: px2rem(30);\n      text-align: center;\n      margin: px2rem(10) 0;\n      background: #fff;\n      &.actvie {\n        color: #007aff;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ZhengZhou/financingList/TransactionDetails.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"wrap-top\"},[_c('app-bar',{attrs:{\"title\":\"明细\"}}),_vm._v(\" \"),_c('ul',{staticClass:\"w-tap\"},[_c('li',{class:{actvie:_vm.cur==1},on:{\"click\":function($event){_vm.tap(1)}}},[_vm._v(\"收益明细\")]),_vm._v(\" \"),_c('li',{class:{actvie:_vm.cur==2},on:{\"click\":function($event){_vm.tap(2)}}},[_vm._v(\"交易明细\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"tabs\"},_vm._l((_vm.tabsParam),function(item,index){return _c('li',{staticClass:\"li-tab\",class:{active:index==_vm.nowIndex},on:{\"click\":function($event){_vm.toggleTabs(index)}}},[_vm._v(_vm._s(item)+\"\\n      \")])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"t-tab\"},[_c('div',{staticClass:\"divTab\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nowIndex===3),expression:\"nowIndex===3\"}],staticClass:\"t-date\"},[_c('ul',[_c('li',{on:{\"click\":_vm.setDate2}},[_vm._v(\"\\n            \"+_vm._s(_vm.startDate)+\"\\n            \"),_c('span')]),_vm._v(\" \"),_c('li',{on:{\"click\":_vm.setDate}},[_vm._v(\"\\n            \"+_vm._s(_vm.endDate)+\"\\n            \"),_c('span')])]),_vm._v(\" \"),_c('div',{staticClass:\"t-query\",on:{\"click\":_vm.query}},[_vm._v(\"查询\")])]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nowIndex===3),expression:\"nowIndex===3\"}],staticClass:\"t-text\"},[_vm._v(\"根据银行要求，只能查询最近两年记录，每次查询最大范围三个月\")]),_vm._v(\" \"),_c('div',{staticClass:\"t-content main-body\",style:({'-webkit-overflow-scrolling': _vm.scrollMode})},[_c('v-loadmore',{ref:\"loadmore\",attrs:{\"top-method\":_vm.loadTop,\"bottom-method\":_vm.loadBottom,\"bottom-all-loaded\":_vm.allLoaded,\"auto-fill\":false}},[_c('div',[_c('ul',_vm._l((_vm.pageList),function(item,index){return _c('li',{key:index},[_c('h5',{staticStyle:{\"display\":\"flex\"}},[_c('span',{staticStyle:{\"flex\":\"1\"}},[_vm._v(_vm._s(_vm.PRD_NAME))]),_vm._v(\" \"),(_vm.cur==1)?_c('span',{staticStyle:{\"width\":\"40%\",\"text-align\":\"right\",\"color\":\"#E62224\"}},[_vm._v(\"收益\")]):_vm._e(),_vm._v(\" \"),(_vm.cur==2 && item.TYPE==1)?_c('span',{staticStyle:{\"width\":\"40%\",\"text-align\":\"right\",\"color\":\"#E62224\"}},[_vm._v(\"买入\")]):_vm._e(),_vm._v(\" \"),(_vm.cur==2 && item.TYPE==2)?_c('span',{staticStyle:{\"width\":\"40%\",\"text-align\":\"right\",\"color\":\"#E62224\"}},[_vm._v(\"赎回\")]):_vm._e()]),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(_vm._s(item.OPERA_TIME))]),_vm._v(\" \"),_c('em',[_vm._v(_vm._s(item.TYPE==2?'-':'+')+\" \"+_vm._s(item.TRANS_AMT))])])])}))])])],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5267e43e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ZhengZhou/financingList/TransactionDetails.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5267e43e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TransactionDetails.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5267e43e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./TransactionDetails.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TransactionDetails.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TransactionDetails.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5267e43e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TransactionDetails.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5267e43e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ZhengZhou/financingList/TransactionDetails.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}