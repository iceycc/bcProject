{"version":3,"sources":["webpack:///src/views/ZhengZhou/buy/Buying.vue","webpack:///./src/views/ZhengZhou/buy/Buying.vue?9c76","webpack:///./src/views/ZhengZhou/buy/Buying.vue"],"names":["Buying","data","proDetail","MIN_AMOUNT","INCRE_AMOUNT","moneyNum","payNum","agree","imgSrc","Constant","show","components","PassWordZhengzhou","PassInputZhengzhou","computed","placeHolder","this","canClick","ifCheckMoneyEmpty","mixins","HandleMixin","StoreMixin","created","getInfo","proData","getComState","goBuy","logo","LOGO_URL","id","ORG_NAME","PRD_NAME","REMAIN_AMT","IDENTICAL_PRD_TAG","console","log","methods","clearNumHandle","_this","service","bank","apiQryAsset","res","ACC_REST","goReChang","setComState","type","value","$route","fullPath","$router","push","name","Recharge","getAgreement","DocsPage","query","checkMoneyNum","num","parseInt","bus","$emit","showToast","_this2","isNaN","Londing","open","spinnerType","setTimeout","close","buyHandle","_this3","doPay","_this4","pass","$","getKBD","len","getLenKBD","lenCode","getBDCode","TYPE","PRD_ID","APPLY_AMOUNT","util","fromatMoney","BANK_PAY_PW","PREFIX","FUN_TYPE","ORDER_TYPE","Check","payPassLen","buy","apiBuy","polling","err","BuyFailed","_this5","BIZ_TYPE","BESHARP_SEQ","BESHARP_BUY_SEQ","text","i","timer","setInterval","common","apiQueryBizStatus","result","RES_CODE","clearInterval","RES_MSG","BuySuccess","buy_Buying","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","_v","staticStyle","width","src","alt","_s","color","_f","on","click","margin-top","directives","rawName","expression","placeholder","domProps","input","$event","target","composing","__webpack_require__","class","tijiao","active","disabled","bang","no","href","stopPropagation","_m","BankCardPass","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/42.e8691ef4e891af9c9277.js","sourcesContent":["<template>\n  <div id=\"app\" class=\"app\">\n    <app-bar title=\"购买\"></app-bar>\n    <div class=\"buytitle\">\n      <div class=\"buytitleleft\">\n        <div class=\"buytitleleftimg\">\n          <img :src=\"imgSrc+proDetail.logo\" style=\"width:100%\" alt=\"\">\n        </div>\n        <div class=\"buytitleleftcontent\">\n          <p>{{proDetail.ORG_NAME}}</p>\n          <p style=\"color:#666\">{{proDetail.PRD_NAME}}</p>\n        </div>\n      </div>\n      <div class=\"buytitleright\">\n        <p>起购金额{{proDetail.MIN_AMOUNT}}元</p>\n        <!--<p>最小递增{{proDetail.INCRE_AMOUNT}}元</p>-->\n        <p>最小递增0.00元</p>\n      </div>\n    </div>\n\n    <div class=\"buysuccessdetails\">\n      <div class=\"buysuccessdetailleft\">可用金额 <strong>{{payNum | formatNum}}元</strong></div>\n      <div class=\"buysuccessdetailright\" @click=\"goReChang\">充值</div>\n    </div>\n    <div class=\"buydetails\">\n      <p style=\"margin-top: 0.3rem\">购买金额</p>\n      <span class=\"buydetailsmoney\">￥</span>\n      <input type=\"number\" :placeholder=\"placeHolder\" v-model=\"moneyNum\">\n      <img\n        v-show=\"!ifCheckMoneyEmpty\"\n        src=\"@/assets/images/icon_clear@2x.png\" alt=\"\" class=\"close-icon\" @click=\"clearNumHandle\">\n    </div>\n    <!--<p style=\"font-size:0.3rem;padding:  0.4rem;color:#666\">可投金额 {{proDetail.REMAIN_AMT | formatNum}}元</p>-->\n    <button :class=\"{tijiao:true,active:canClick}\" @click=\"goBuy\" :disabled=\"!canClick\">购买</button>\n    <p @click=\"agree =!agree\"\n       :class=\"{'bang':true,'no':agree == false}\">我已阅读并同意\n      <a style=\" color:#0096FE;\" href=\"javascript:;\" @click.stop=\"getAgreement('buy')\">《日添利-博时基金 ”产品业务服务协议》</a>\n    </p>\n    <section v-if=\"show\" class=\"bgbox\">\n      <section class=\"passbox\">\n        <p class=\"title\">\n          <img src=\"@/assets/images/icon_dunpai@2x.png\" alt=\"\">\n          由郑州银行提供技术保障</p>\n        <section class=\"field_row_wrap\">\n          <p class=\"field_row_key\">\n            交易密码\n          </p>\n          <div class=\"field_row_value\">\n            <!--<PassInputZhengzhou></PassInputZhengzhou> -->\n            <pass-word-zhengzhou\n              BankCardPass=\"payPasscc\"\n            ></pass-word-zhengzhou>\n          </div>\n          <p class=\"info\">密码由数字组成，必须为6位</p>\n        </section>\n        <div class=\"btn\">\n          <mt-button @click=\"show =!show\" type=\"primary\">取消</mt-button>\n          <mt-button @click=\"doPay\" type=\"primary\">提交</mt-button>\n        </div>\n      </section>\n    </section>\n\n  </div>\n</template>\n<script>\n  import {PageName, BusName, imgSrc, LsName} from \"@/Constant\"\n  import PassWordZhengzhou from '@/components/password/PassInputZhengzhou'\n  import Bus from '@/plugin/bus'\n  import API from \"@/service\"\n  import Mixins from \"@/mixins\";\n  import util from \"libs/util\";\n\n  export default {\n    data() {\n      return {\n        proDetail: {\n          MIN_AMOUNT: '200',\n          INCRE_AMOUNT: '10'\n        },\n        moneyNum: null,\n        payNum: '',\n        agree: true,\n        imgSrc: imgSrc,\n        INCRE_AMOUNT: '',\n        show:false,\n      }\n    },\n    components:{\n      PassWordZhengzhou\n    },\n    computed: {\n      placeHolder() {\n        return this.proDetail.MIN_AMOUNT + '元起购'\n      },\n      canClick() {\n        if (this.moneyNum && this.agree) {\n          return true\n        } else {\n          return false\n        }\n      },\n      ifCheckMoneyEmpty(){\n        if(this.moneyNum){\n          return false\n        }else {\n          return true\n        }\n      }\n    },\n    mixins: [Mixins.HandleMixin, Mixins.StoreMixin],\n    created() {\n      this.getInfo()\n      let proData = this.getComState.goBuy\n      this.proDetail.MIN_AMOUNT = proData.MIN_AMOUNT // 数据\n      this.proDetail.INCRE_AMOUNT = proData.INCRE_AMOUNT || '0.01'// 数据\n      this.proDetail.logo = proData.logo || proData.LOGO_URL// 数据\n      this.proDetail.id = proData.id // 数据\n      this.proDetail.ORG_NAME = proData.ORG_NAME // 数据\n      this.proDetail.PRD_NAME = proData.PRD_NAME // 数据\n      this.proDetail.REMAIN_AMT = proData.REMAIN_AMT || '10000'// 数据\n      this.proDetail.IDENTICAL_PRD_TAG = proData.IDENTICAL_PRD_TAG\n\n      console.log(proData);\n    },\n    methods: {\n      clearNumHandle(){\n        this.moneyNum = ''\n      },\n      getInfo() {\n        // 查询账户余额\n        API.bank.apiQryAsset({}, res => {\n          console.log(res);\n          this.payNum = res.ACC_REST // 账户余额(可用余额)\n          // this.payNum = 1000// 账户余额(可用余额)\n        })\n      },\n      goReChang() {\n        this.setComState({\n          type: 'OriginPage',\n          value: this.$route.fullPath\n        })\n\n        this.$router.push({\n          name: PageName.Recharge,\n        })\n      },\n      getAgreement(type) {\n        this.agree = true\n        this.$router.push({\n          name: PageName.DocsPage,\n          query: {\n            type,\n          }\n        })\n      },\n      checkMoneyNum(num) {\n        // let a = this.proDetail.INCRE_AMOUNT\n        if (num < parseInt(this.proDetail.MIN_AMOUNT)) {\n          Bus.$emit(BusName.showToast, '投资金额小于起投金额，请调整投资金额')\n          return true\n        }\n        // else if (num * 100 % (a * 100) != 0) {\n        //   Bus.$emit(BusName.showToast, '请输入递增金额的整数倍')\n        //   return true\n        // }\n        else {\n          return false\n        }\n      },\n      goBuy() {\n        if (!this.agree) {\n          Bus.$emit(BusName.showToast, '请同意相关协议')\n          return\n        }\n        if (!this.moneyNum) {\n          Bus.$emit(BusName.showToast, '请输入购买金额')\n          return\n        }\n        if (typeof (this.moneyNum - 0) != 'number' || isNaN(this.moneyNum - 0)) {\n          Bus.$emit(BusName.showToast, '请填写正确的金额')\n          return\n        }\n\n        if (this.moneyNum - 0 > this.payNum) {\n          Bus.$emit(BusName.showToast, '余额不足，请充值')\n          return\n        }\n        if (this.checkMoneyNum(this.moneyNum)) {\n          return\n        }\n        if (this.moneyNum - 0 > this.REMAIN_AMT) {\n          Bus.$emit(BusName.showToast, '可投额度不足')\n          return\n        }\n\n        this.Londing.open({\n          spinnerType: 'triple-bounce'\n        })\n        setTimeout(() => {\n          this.Londing.close()\n        }, 500)\n\n        // this.$router.push({\n        //   name: PageName.SureBuy,\n        //   query: {\n        //     money: this.moneyNum,\n        //     PRD_NAME: this.proDetail.PRD_NAME,\n        //     id: this.proDetail.id,\n        //     ORG_NAME: this.proDetail.ORG_NAME,\n        //     logo: this.proDetail.logo,\n        //   }\n        // })\n        this.buyHandle()\n      },\n      buyHandle() {\n        this.Londing.open()\n        setTimeout(() => {\n          this.show = true\n          this.Londing.close()\n        }, 500)\n      },\n      // 交易\n      doPay() {\n        let pass = $(\"#payPasscc\").getKBD(); //获取密码\n        let len = $(\"#payPasscc\").getLenKBD(); //获取密码长度\n        let lenCode = $(\"#payPasscc\").getBDCode(); //获取密码长度\n        console.log(pass);\n        let data = {\n          TYPE:'API_BUY',\n          PRD_ID: this.proDetail.id+ '',\n          APPLY_AMOUNT: util.fromatMoney(this.moneyNum),\n          BANK_PAY_PW: pass + '',\n          PREFIX:lenCode,\n          FUN_TYPE:'1', // 基金种类 基金种类 1:货币 2:非货币\n          ORDER_TYPE:'1'\n        }\n\n        if (util.Check.payPassLen(len, true)) return;\n        this.show = false\n        API.buy.apiBuy(data, (res) => {\n          this.polling(res)\n        }, err => {\n          this.Londing.close()\n          this.$router.push({\n            name: PageName.BuyFailed,\n            query: {\n              err: err\n            }\n          })\n        })\n      },\n      // 轮询查询交易状态！！\n      polling(res) {\n        let data = {\n          BIZ_TYPE: '6', // 购买\n          BESHARP_SEQ: res.BESHARP_BUY_SEQ\n        }\n        // 交易轮询\n        this.Londing.open({\n          text: '正在购买中'\n        })\n        let i = 1\n        let timer = setInterval(() => {\n          i++\n          API.common.apiQueryBizStatus(data, result => {\n            if ('1' == result.RES_CODE || i == 5) {\n              this.Londing.close()\n              clearInterval(timer)\n              Bus.$emit(BusName.showToast, result.RES_MSG);\n              this.$router.push({\n                name: PageName.BuyFailed,\n                query: {\n                  err: result.RES_MSG\n                }\n              })\n            }\n            else if ('0' == result.RES_CODE) { // 成功\n              clearInterval(timer)\n              Bus.$emit(BusName.showToast, result.RES_MSG);\n              this.Londing.close()\n              this.setComState({type: 'buyData', value: result})\n              this.$router.push({\n                name: PageName.BuySuccess,\n              })\n              return\n            } else {\n              if (i > 5) {\n                Bus.$emit(BusName.showToast, result.RES_MSG);\n                this.$router.push({\n                  name: PageName.BuyFailed,\n                  query: {\n                    err: result.RES_MSG\n                  }\n                })\n                return\n              }\n            }\n          })\n        }, 2000)\n      },\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"~@/assets/px2rem\";\n\n  body {\n    margin: 0;\n    padding: 0;\n  }\n\n  .buytitle {\n    width: 92%;\n    padding: 0.4rem 0.4rem;\n    border-top: 10px solid #F6F6F9;\n    border-bottom: 0.5rem solid #F6F6F9;\n    display: flex;\n    .buytitleleft {\n      display: inline-block;\n      flex: 1;\n      .buytitleleftimg {\n        vertical-align: middle;\n        padding-top: 0.2rem;\n        width: 1rem;\n        display: inline-block;\n\n      }\n      .buytitleleftcontent {\n        vertical-align: middle;\n        padding-top: -0.5rem;\n        display: inline-block;\n        padding-left: 0.4rem;\n        font-size: 0.35rem;\n      }\n    }\n\n    .buytitleright {\n      float: right;\n      text-align: right;\n      font-size: 0.35rem;\n      color: #666;\n    }\n  }\n\n  .buysuccessdetails {\n    padding: 0 0.4rem;\n    line-height: 1.5rem;\n    height: 1.5rem;\n    font-size: 0.4rem;\n    border-bottom: 1px solid #EEEEF0;\n  }\n\n  .buydetails {\n    position:relative;\n    padding: 0 0.4rem;\n    height: 2.2rem;\n    font-size: 0.4rem;\n    border-bottom: 1px solid #EEEEF0;\n    .close-icon {\n      position: absolute;\n      display: inline-block;\n      width: px2rem(15);\n      height: px2rem(15);\n      top: 50%;\n      right: px2rem(30);\n    }\n  }\n\n  .buydetailsmoney {\n    width: 1rem;\n    margin-top: 0.5rem;\n    font-size: 0.6rem;\n  }\n\n  .buysuccessdetailleft {\n    float: left;\n  }\n\n  .buysuccessdetailright {\n    color: #468EE5;\n    float: right;\n  }\n\n  input {\n    width: 50%;\n    border: none;\n    box-sizing: border-box;\n    font-size: 14px; /*px*/\n    color: #333;\n    line-height: 40px;\n    outline: none;\n  }\n\n  ::-webkit-input-placeholder {\n    font-size: 0.6rem\n  }\n\n  /* 使用webkit内核的浏览器 */\n  :-moz-placeholder {\n    font-size: 0.6rem\n  }\n\n  /* Firefox版本4-18 */\n  ::-moz-placeholder {\n    font-size: 0.6rem\n  }\n\n  /* Firefox版本19+ */\n  :-ms-input-placeholder {\n    font-size: 0.6rem\n  }\n\n  .tijiao {\n    font-size: px2rem(18);\n    color: #fff;\n    background: #ccc;\n    border-radius: px2rem(6);\n    line-height: 1.2rem;\n    width: px2rem(255);\n    margin: px2rem(30) auto px2rem(10);\n    text-align: center;\n    border: 0px;\n    outline: none;\n    display: block;\n    &.active {\n      background: #508CEE;\n    }\n  }\n\n  .bang {\n    margin-left: 0.5rem;\n    background: url(~@/assets/images/agree@3x.png) no-repeat 0 0.05rem;\n    background-size: 0.3rem 0.3rem;\n    font-size: 0.35rem;\n    color: #808080;\n    padding: 0 0.5rem;\n\n  }\n\n  .no {\n    background: url(~@/assets/images/onagree@3x.png) no-repeat 0 0.05rem;\n    background-size: 0.3rem 0.3rem;\n  }\n\n  .bgbox {\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n    background: rgba(1, 1, 1, .7);\n    position: fixed;\n    padding-top: 0.7rem;\n    top: 0;\n    left: 0;\n    .passbox {\n      background: #fff;\n      width: 80%;\n      margin: 0 auto;\n      padding: 0.4rem;\n      box-sizing: border-box;\n    }\n    .field_row_key {\n      font-size: 0.4rem;\n    }\n    .title {\n      margin-bottom: 0.5rem;\n      text-align: center;\n      font-size: 0.4rem;\n      color: #666;\n      height: .6rem;\n      line-height: .6rem;\n      img {\n        vertical-align: top;\n        width: .5rem;\n      }\n    }\n    .field_row_wrap {\n      margin-bottom: 0.2rem;\n    }\n    .field_row_value {\n      border-radius: 4px;\n      border: 1px solid #9e9e9e;\n      height: 0.9rem;\n      line-height: 0.9rem;\n      margin: 0.2rem 0;\n    }\n    .info {\n      font-size: 0.3rem;\n      line-height: 0.6rem;\n      color: #aeaeae;\n    }\n    .btn {\n      display: flex;\n      button {\n        margin: 0 .3rem;\n        text-align: center;\n        flex: 1;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ZhengZhou/buy/Buying.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\",attrs:{\"id\":\"app\"}},[_c('app-bar',{attrs:{\"title\":\"购买\"}}),_vm._v(\" \"),_c('div',{staticClass:\"buytitle\"},[_c('div',{staticClass:\"buytitleleft\"},[_c('div',{staticClass:\"buytitleleftimg\"},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.imgSrc+_vm.proDetail.logo,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"buytitleleftcontent\"},[_c('p',[_vm._v(_vm._s(_vm.proDetail.ORG_NAME))]),_vm._v(\" \"),_c('p',{staticStyle:{\"color\":\"#666\"}},[_vm._v(_vm._s(_vm.proDetail.PRD_NAME))])])]),_vm._v(\" \"),_c('div',{staticClass:\"buytitleright\"},[_c('p',[_vm._v(\"起购金额\"+_vm._s(_vm.proDetail.MIN_AMOUNT)+\"元\")]),_vm._v(\" \"),_c('p',[_vm._v(\"最小递增0.00元\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"buysuccessdetails\"},[_c('div',{staticClass:\"buysuccessdetailleft\"},[_vm._v(\"可用金额 \"),_c('strong',[_vm._v(_vm._s(_vm._f(\"formatNum\")(_vm.payNum))+\"元\")])]),_vm._v(\" \"),_c('div',{staticClass:\"buysuccessdetailright\",on:{\"click\":_vm.goReChang}},[_vm._v(\"充值\")])]),_vm._v(\" \"),_c('div',{staticClass:\"buydetails\"},[_c('p',{staticStyle:{\"margin-top\":\"0.3rem\"}},[_vm._v(\"购买金额\")]),_vm._v(\" \"),_c('span',{staticClass:\"buydetailsmoney\"},[_vm._v(\"￥\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.moneyNum),expression:\"moneyNum\"}],attrs:{\"type\":\"number\",\"placeholder\":_vm.placeHolder},domProps:{\"value\":(_vm.moneyNum)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.moneyNum=$event.target.value}}}),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.ifCheckMoneyEmpty),expression:\"!ifCheckMoneyEmpty\"}],staticClass:\"close-icon\",attrs:{\"src\":require(\"@/assets/images/icon_clear@2x.png\"),\"alt\":\"\"},on:{\"click\":_vm.clearNumHandle}})]),_vm._v(\" \"),_c('button',{class:{tijiao:true,active:_vm.canClick},attrs:{\"disabled\":!_vm.canClick},on:{\"click\":_vm.goBuy}},[_vm._v(\"购买\")]),_vm._v(\" \"),_c('p',{class:{'bang':true,'no':_vm.agree == false},on:{\"click\":function($event){_vm.agree =!_vm.agree}}},[_vm._v(\"我已阅读并同意\\n    \"),_c('a',{staticStyle:{\"color\":\"#0096FE\"},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){$event.stopPropagation();_vm.getAgreement('buy')}}},[_vm._v(\"《日添利-博时基金 ”产品业务服务协议》\")])]),_vm._v(\" \"),(_vm.show)?_c('section',{staticClass:\"bgbox\"},[_c('section',{staticClass:\"passbox\"},[_vm._m(0),_vm._v(\" \"),_c('section',{staticClass:\"field_row_wrap\"},[_c('p',{staticClass:\"field_row_key\"},[_vm._v(\"\\n          交易密码\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"field_row_value\"},[_c('pass-word-zhengzhou',{attrs:{\"BankCardPass\":\"payPasscc\"}})],1),_vm._v(\" \"),_c('p',{staticClass:\"info\"},[_vm._v(\"密码由数字组成，必须为6位\")])]),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('mt-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.show =!_vm.show}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('mt-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doPay}},[_vm._v(\"提交\")])],1)])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"title\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/icon_dunpai@2x.png\"),\"alt\":\"\"}}),_vm._v(\"\\n        由郑州银行提供技术保障\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8bf90fae\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ZhengZhou/buy/Buying.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8bf90fae\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Buying.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Buying.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Buying.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8bf90fae\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Buying.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8bf90fae\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ZhengZhou/buy/Buying.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}