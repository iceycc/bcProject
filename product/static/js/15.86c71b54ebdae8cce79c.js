webpackJsonp([15],{"Nx/j":function(t,a,e){"use strict";var s=e("0jG4"),i=e("MmTA"),n=e("EOwk"),o=e("JIj5");a.a={data:function(){return{}},created:function(){},methods:{transformDATA:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{STA:(t="2016.10.14-2026.10.14").split("-")[0],END:t.split("-")[1]}},checkBankStatus:function(t){var a=this;s.a.common.apiRegisterBackShow({},function(t){var e=t.LAST_STEP_NUM;console.log("step",e),a.setComState({type:"openingData",value:t}),0==e?(o.a.storage.session.set("USERINFO",t),a.$router.push({name:n.e.Opening1})):1==e?(o.a.storage.session.set("USERINFO",t),a.$router.push({name:n.e.Opening2})):(i.a.$emit(n.a.showToast,"你已经开户成功"),setTimeout(function(){a.$router.push({name:n.e.Login})},400))})},checkID:function(t){}}}},X8kW:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("EOwk"),i=e("UjQH"),n=e("Dd8w"),o=e.n(n),r=e("0jG4"),c=(e("MmTA"),e("JIj5")),_={mixins:[e("Nx/j").a],data:function(){return{DOMShow:{USER_NAME:!0,USER_CARD_ID:!0,USER_DUTY:!1,USER_EDUCATION:!1,ADDRESS:!1,NATION:!1,PHONE:!1,USER_CARD_ID_DATA:!0},DOCS:"ZhengZhou",job:[{name:"党的机关、国家机关、群众团体和社会组织、企事业单位负责人",value:"10000"},{name:"专业技术人员",value:"20000"},{name:"办事人员和有关人员",value:"30000"},{name:"社会生产服务和生活服务人员",value:"40000"},{name:"农、林、牧、渔业生产及辅助人员",value:"50000"},{name:"生产制造及有关人员",value:"60000"},{name:"军人",value:"70000"},{name:"其他从业人员",value:"80000"},{name:"未知",value:"90000"}]}},created:function(){console.log("ZhengZhou")},methods:{doOpeningFirstFactory:function(){r.a.watchApi({FUNCTION_ID:"ptb0A003",REMARK_DATA:"异业合作-开户-开户信息验证"}),this.$store.commit("SET_OPENING1_DATA",this.data),this.ORG_ID=c.a.storage.session.get("ORG_ID")||"",this.doOpengingFirst()},imgToBaseFan:function(t){var a=this,e=this.getObjectURL(t.target.files[0]);console.log(t.target),this.imgStyle2="width:100%;max-height:100%",c.a.imgScale(e,t.target.files[0],4).then(function(t){a.preSrc2=t,a.data.CARD_BACK_FILE=t.split(",")[1].replace(/\+/g,"%2B"),a.idCardFanOcr(t)})},imgToBaseZheng:function(t){var a=this,e=this.getObjectURL(t.target.files[0]);console.log(t.target),this.imgStyle1="width:100%;max-height:100%",c.a.imgScale(e,t.target.files[0],4).then(function(t){a.preSrc1=t,a.data.CARD_FRONT_FILE=t.split(",")[1].replace(/\+/g,"%2B"),a.idCardZhengOcr(t)})},getObjectURL:function(t){var a=null;return void 0!=window.createObjectURL?a=window.createObjectURL(t):void 0!=window.URL?a=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(a=window.webkitURL.createObjectURL(t)),a},idCardZhengOcr:function(){var t=this,a={PHONE_NUM:this.data.PHONE,TYPE:"ID_CARD_FRONT_PHONE_OCR",IDENT_PHOTO:this.data.CARD_FRONT_FILE.replace(/\+/g,"%2B"),MARK:"1"};r.a.open.IdCardFrontPhoneOcr(a,function(a){t.data.USER_NAME=a.ID_NAME,t.data.USER_CARD_ID=a.ID_NUMBER,t.data.PARTNER_ORDER_ID=a.PARTNER_ORDER_ID})},idCardFanOcr:function(){var t=this,a={PHONE_NUM:this.data.PHONE,TYPE:"ID_CARD_BACK_PHONE_OCR",MARK:"2",IDENT_PHOTO:this.data.CARD_BACK_FILE.replace(/\+/g,"%2B")};r.a.open.IdCardFrontPhoneOcr(a,function(a){console.log("aaaaaaaaaaaaaa"),console.log(a.VALIDITY_PERIOD),t.data.USER_CARD_ID_DATA=a.VALIDITY_PERIOD,t.data.IDENT_VLD_DT=t.transformDATA(a.VALIDITY_PERIOD).END,t.data.IDENT_LSS_DT=t.transformDATA(a.VALIDITY_PERIOD).STA,t.data.PARTNER_ORDER_ID=a.PARTNER_ORDER_ID})},doOpengingFirst:function(){var t=this,a={TYPE:"API_REGISTER_VALI_USER",PHONE_NUM:this.data.PHONE+"",USER_NAME:this.data.USER_NAME+"",USER_CARD_ID:this.data.USER_CARD_ID+"",CARD_FRONT_FILE:this.data.CARD_FRONT_FILE,CARD_BACK_FILE:this.data.CARD_BACK_FILE,IDENT_LSS_DT:this.data.IDENT_LSS_DT,IDENT_VLD_DT:this.data.IDENT_VLD_DT};console.log("open1Params>>",a),r.a.open.apiRegisterValiUser(a,function(e){t.setComState({type:"openingState",value:o()({},e,a)}),t.$router.push({name:s.e.Opening2})},function(a){setTimeout(function(){t.checkBankStatus()})})}}},l={data:function(){return{data:{USER_NAME:"",USER_CARD_ID:"",USER_DUTY:"",USER_EDUCATION:"",CARD_FRONT_FILE:"",CARD_BACK_FILE:"",IDENT_VLD_DT:"",ADDRESS:"",NATION:"",PHONE:"",PARTNER_ORDER_ID:""},showType:0,imgStyle1:"width:30%;vertical-align: middle",imgStyle2:"width:30%;vertical-align: middle;",stepImg:e("T201"),stepImg2:e("r2sr"),stepImg3:e("yIMT"),test1:"",test2:"",agreeMentSrc:s.c+"/static/finsuit/js/openapi/js/xieyi/cz.html",preSrc1:e("RtZK"),preSrc2:e("RtZK"),picZheng:e("64EE"),picFan:e("OkNP"),education:[{name:"研究生",value:"0"},{name:"大学本科",value:"20"},{name:"大学专科或专科学校",value:"30"},{name:"中等专业学校或中等技术学校",value:"40"},{name:"技术学校",value:"50"},{name:"高中",value:"60"},{name:"初中",value:"70"},{name:"小学",value:"80"},{name:"文盲或半文盲",value:"90"},{name:"未知",value:"99"}],educationText:"请选择学历",work:"请选择职业",agree:!0,page:!1,errMsg:""}},components:{JsSelect:i.a},mixins:[_],created:function(){var t=this.getComState.openingData;console.log("suerinfo>>",t),t&&t.CARD_FRONT_URL&&(this.preSrc1="data:image/jpeg;base64,"+t.CARD_FRONT_URL.replace(/\s/g,"+"),this.preSrc2="data:image/jpeg;base64,"+t.CARD_BACK_URL.replace(/\s/g,"+"),this.imgStyle1="width:100%;height:100%;vertical-align: middle",this.imgStyle2="width:100%;height:100%;vertical-align: middle;",this.data.PHONE=t.PHONE_NUM||t.BANK_CARD_PHONE,this.data.CARD_BACK_FILE=t.CARD_BACK_URL.replace(/\s/g,"+"),this.data.CARD_FRONT_FILE=t.CARD_FRONT_URL.replace(/\s/g,"+"),this.data.CARD_BACK_FILE&&this.idCardFanOcr(),this.data.CARD_FRONT_FILE&&this.idCardZhengOcr())},methods:{getEduction:function(t){this.educationText=t.name,this.data.USER_EDUCATION=t.value},getWork:function(t){this.work=t.name,this.data.USER_DUTY=t.value},doAgree:function(){this.agree=!this.agree},showPage:function(){this.$router.push({name:s.e.DocsPage,query:{type:"open"}})}}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"warp"},[e("app-bar",{attrs:{title:"信息填写"}}),t._v(" "),e("section",{staticClass:"wrapicon"},[e("section",{staticClass:"circle left"},[e("span",{staticClass:"line1"},[e("img",{attrs:{src:t.stepImg,alt:""}})]),t._v(" "),e("span",{staticClass:"step-text"},[t._v("开户信息验证")])]),t._v(" "),e("section",{staticClass:"circle right"},[e("span",{staticClass:"line2 hui"},[e("img",{attrs:{src:t.stepImg2,alt:""}})]),t._v(" "),e("span",{staticClass:"step-text",staticStyle:{color:"#D3D3D3"}},[t._v("绑定银行卡")])])]),t._v(" "),e("div",{staticClass:"opening_box"},[e("section",{staticClass:"photo"},[e("div",{staticClass:"cameraphoto"},[e("div",{staticClass:"words"},[t._v("身份证人像页照")]),t._v(" "),e("div",{staticClass:"cameraphotoimg"},[e("img",{staticClass:"vatal",style:t.imgStyle1,attrs:{src:t.preSrc1,alt:""}}),t._v(" "),e("input",{staticClass:"inputBox",attrs:{type:"file",capture:"camera",accept:"image/*"},on:{change:function(a){t.imgToBaseZheng(a)}}})])]),t._v(" "),e("div",{staticClass:"cameraphoto"},[e("div",{staticClass:"words"},[t._v("身份证国徽页照")]),t._v(" "),e("div",{staticClass:"cameraphotoimg"},[e("img",{staticClass:"vatal",style:t.imgStyle2,attrs:{src:t.preSrc2,alt:""}}),t._v(" "),e("input",{staticClass:"inputBox",attrs:{type:"file",capture:"camera",accept:"image/*"},on:{change:function(a){t.imgToBaseFan(a)}}})])])]),t._v(" "),e("img",{attrs:{src:t.test1,alt:""}}),t._v(" "),t.DOMShow.USER_NAME?e("section",[e("span",[t._v("姓名")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.USER_NAME,expression:"data.USER_NAME"}],staticClass:"inputBox2",attrs:{type:"text",placeholder:"请输入您的姓名"},domProps:{value:t.data.USER_NAME},on:{input:function(a){a.target.composing||t.$set(t.data,"USER_NAME",a.target.value)}}})]):t._e(),t._v(" "),t.DOMShow.USER_CARD_ID?e("section",[e("span",[t._v("身份证号")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.USER_CARD_ID,expression:"data.USER_CARD_ID"}],staticClass:"inputBox2",attrs:{type:"text",placeholder:"请输入15-18位身份证号"},domProps:{value:t.data.USER_CARD_ID},on:{bulr:t.checkID,input:function(a){a.target.composing||t.$set(t.data,"USER_CARD_ID",a.target.value)}}})]):t._e(),t._v(" "),t.DOMShow.USER_CARD_ID_DATA?e("section",[e("span",[t._v("身份证有效期")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.USER_CARD_ID_DATA,expression:"data.USER_CARD_ID_DATA"}],staticClass:"inputBox2",attrs:{type:"text",placeholder:""},domProps:{value:t.data.USER_CARD_ID_DATA},on:{input:function(a){a.target.composing||t.$set(t.data,"USER_CARD_ID_DATA",a.target.value)}}})]):t._e(),t._v(" "),t.DOMShow.PHONE?e("section",[e("span",[t._v("手机号码")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.PHONE,expression:"data.PHONE"}],staticClass:"inputBox2",attrs:{type:"tel",placeholder:"请输入手机号"},domProps:{value:t.data.PHONE},on:{input:function(a){a.target.composing||t.$set(t.data,"PHONE",a.target.value)}}})]):t._e(),t._v(" "),t.DOMShow.NATION?e("section",[e("span",[t._v("民族")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.NATION,expression:"data.NATION"}],staticClass:"inputBox2",attrs:{type:"text",placeholder:""},domProps:{value:t.data.NATION},on:{input:function(a){a.target.composing||t.$set(t.data,"NATION",a.target.value)}}})]):t._e(),t._v(" "),t.DOMShow.ADDRESS?e("section",[e("span",[t._v("地址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.ADDRESS,expression:"data.ADDRESS"}],staticClass:"inputBox2",attrs:{type:"text",placeholder:""},domProps:{value:t.data.ADDRESS},on:{input:function(a){a.target.composing||t.$set(t.data,"ADDRESS",a.target.value)}}})]):t._e(),t._v(" "),t.DOMShow.USER_DUTY?e("section",[e("span",[t._v("职业")]),t._v(" "),e("js-select",{staticClass:"selectStyle",attrs:{title:"职业列表",text:t.work,options:t.job},on:{getValue:t.getWork}})],1):t._e(),t._v(" "),t.DOMShow.USER_EDUCATION?e("section",[e("span",[t._v("学历")]),t._v(" "),e("js-select",{staticClass:"selectStyle",attrs:{title:"学历列表",text:t.educationText,options:t.education},on:{getValue:t.getEduction}})],1):t._e()]),t._v(" "),t._m(0),t._v(" "),t.errMsg?e("div",{staticClass:"msg-err"},[t._v(t._s(t.errMsg))]):t._e(),t._v(" "),e("button",{staticClass:"tijiao",on:{click:t.doOpeningFirstFactory}},[t._v("下一步")]),t._v(" "),e("p",{class:{bang:!0,no:0==t.agree},on:{click:t.doAgree}},[e("span",[t._v("我已阅读并同意注册")]),t._v(" "),e("a",{staticStyle:{color:"#0096FE"},attrs:{href:"javascript:;"},on:{click:function(a){return a.stopPropagation(),t.showPage(a)}}},[t._v("《众邦银行直销银行电子账户服务协议》")])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"IDphoto"},[a("div",{staticClass:"IDphotoPositive"}),this._v(" "),a("div",{staticClass:"IDphotoback"})])}]};var D=e("VU/8")(l,d,!1,function(t){e("tGwJ")},"data-v-ca41daf0",null);a.default=D.exports},tGwJ:function(t,a){}});
//# sourceMappingURL=15.86c71b54ebdae8cce79c.js.map