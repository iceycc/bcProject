{"version":3,"sources":["webpack:///src/views/common/bcOpen/Opening2.vue","webpack:///./src/views/common/bcOpen/Opening2.vue?acb3","webpack:///./src/views/common/bcOpen/Opening2.vue"],"names":["safeCodeUrl","Constant","Opening2","data","safeCode","SESSION_ID","showSafeCode","CARD_NO","HAS_BAND","PHONE_NUM","PRE_PHONE_NUM","PHONE_CODE","LAST_STEP_NUM","MESSAGE_TOKEN","REQ_SERIAL","tel","canClick","codeText","disable","bankList","bank","bankText","stepImg","__webpack_require__","stepImg2","stepImg3","AllBankListObj","errMsg","checkBankName1","telDisabled","components","BankSelect","PassWordZhengzhou","PassInputZhengzhou","watch","n","o","length","console","log","this","toString","substr","computed","cantNext","filters","telFlter","CARD_NO_Fliter","created","$route","query","getBankList","methods","timeDown","_this","sTime","timer","setInterval","clearInterval","clickMsgCodeHandle","PHONE","util","Check","$store","getters","GET_ACCOUNT_STATE","Math","random","getMsgCode","_this2","SAFT_CODE","BANK_CARD","commit","service","bicai","sendSMSCodeToBindCard","res","STATUS","bus","$emit","showToast","MESSAGE","err","pollHandle","_this3","conut","Londing","close","open","checkID","_this4","getMerberAuthStatusInfo","status","$router","push","name","BcOpening3","getBankNameByCardNo","_this5","cardNo","getCardBinList","ISSUER_NAME","_this6","getBingingCardsList","obj","forEach","item","BANK_CARD_BIN","BANK_NAME","map","ORG_NAME","value","src","LOGO_URL","Index","ORG_NAME_FIRST_LETTER","getSafeCode","checkBankName","val","machBankName","pin","checkBankNo","test","getBank","goNext","_this7","params","bankCardNo","mobile","smsCode","bindCardFourELement","setTimeout","watchApi","FUNCTION_ID","REMARK_DATA","bcOpen_Opening2","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","_v","alt","directives","rawName","expression","type","placeholder","domProps","on","blur","$event","input","target","composing","$set","staticStyle","padding-right","text","options","getValue","disabled","click","_s","_e","class","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/114.18ab9204484f86601111.js","sourcesContent":["<template>\n  <div class=\"warp\">\n    <app-bar title=\"信息填写\"></app-bar>\n    <section class=\"wrapicon\">\n      <section class=\"circle\">\n                <span class=\"line1\">\n                    <img :src='stepImg' alt=\"\">\n                </span>\n        <p class=\"step-text\">开户信息验证</p>\n      </section>\n      <section class=\"circle\">\n                 <span class=\"line2\">\n                    <img :src='stepImg' alt=\"\">\n                </span>\n        <p class=\"step-text\">绑定银行卡</p>\n      </section>\n      <section class=\"circle\">\n                 <span class=\"line3 hui\">\n                    <img :src='stepImg3' alt=\"\">\n                </span>\n        <p class=\"step-text\">设置密码</p>\n      </section>\n    </section>\n\n    <div class=\"opening_box\">\n      <section class=\"input-box\">\n        <p class=\"left-p\"> 绑定卡卡号</p>\n        <input type=\"number\"\n               @blur=\"checkBankName(data.CARD_NO)\"\n               name=\"backname\" placeholder=\"请输入储蓄卡卡号\" v-model=\"data.CARD_NO\">\n      </section>\n      <section class=\"bank\">\n        <span style=\"padding-right: 0px\" class=\"left-p\">选择银行</span>\n        <!--<input type=\"text\" name=\"back\" placeholder=\" 请选择银行\" v-model=\"data.ORG_ID\">-->\n        <!-- <span  class=\"limit\">银行限额</span>  -->\n        <Bank-select class=\"bank-box\" :text=\"bankText\" :options=\"bankList\" @getValue=\"getBank\"\n                     title=\"银行列表\"></Bank-select>\n\n      </section>\n      <section class=\"input-box\">\n        <p class=\"left-p\">手机号码</p>\n        <input\n          :disabled=\"telDisabled\"\n          type=\"text\" name=\"tel\" placeholder=\"银行预留手机号\" v-model=\"tel\">\n      </section>\n      <section class=\"input-box\">\n        <p class=\"left-p\">验证码</p>\n        <input\n          type=\"text\" placeholder=\"验证码\" v-model=\"data.PHONE_CODE\">\n        <button class=\"msg-code\" @click=\"clickMsgCodeHandle\" :disabled=\"disable\">{{codeText}}</button>\n      </section>\n    </div>\n    <!--errMsg-->\n    <div class=\"msg-err\" v-if=\"errMsg\">\n      <span>{{errMsg}}</span>\n    </div>\n    <!-- <div class=\"tijiao Tips\">请使用该预留手机号进行开户</div> -->\n    <button :class=\"{cantNext:cantNext}\" :disabled=\"cantNext\" class=\"tijiao\" @click=\"goNext\">下一步</button>\n\n\n    <!--<section class=\"safe-code\" v-show=\"showSafeCode\">-->\n    <!--<div>-->\n    <!--<img :src=\"safeCodeUrl+ SESSION_ID\" alt=\"\">-->\n    <!--<input type=\"text\" placeholder=\"请输入图形验证码\" v-model=\"safeCode\">-->\n    <!--<button @click=\"getSafeCode\">确定</button>-->\n    <!--</div>-->\n    <!--</section>-->\n    <section class=\"safe-code\" v-show=\"showSafeCode\">\n      <div>\n        <p>请填写图形验证码</p>\n        <section class=\"middle\">\n          <input type=\"tel\" placeholder=\"请输入图形验证码\" v-model=\"safeCode\">\n          <img :src=\"safeCodeUrl+ SESSION_ID\" alt=\"\">\n        </section>\n        <section class=\"btn\">\n          <button @click=\"showSafeCode=false\">取消</button>\n          <button @click=\"getSafeCode\">确定</button>\n        </section>\n      </div>\n    </section>\n  </div>\n</template>\n<script>\n  import Bus from '@/plugin/bus'\n  import BankSelect from '@/components/commons/BankSelect'\n  import PassWordZhengzhou from '@/components/password/PassInputZhengzhou'\n  import {HOST} from \"@/Constant\";\n  import API from \"@/service\";\n  import {imgSrc} from \"@/Constant\";\n  import {PageName, BusName, LsName} from \"@/Constant\";\n  import util from \"libs/util\";\n\n  const safeCodeUrl = HOST + '/finsuitSafeCode?SESSION_ID='\n  let time = 60\n\n  export default {\n    data() {\n      return {\n        // 图形验证码相关\n        safeCode: '',\n        safeCodeUrl,\n        SESSION_ID: '',\n        showSafeCode: false,\n\n        data: {\n          CARD_NO: '', // 银行卡号 6214830182284272  6217730711297810\n          HAS_BAND: '0', // 是否绑定过\n          PHONE_NUM: '', // 15711310733   15011352818\n          PRE_PHONE_NUM: '', // 预留 这个是页面取的\n          PHONE_CODE: '', // 手机验证码\n          LAST_STEP_NUM: '', // 步数\n          MESSAGE_TOKEN: '',\n          REQ_SERIAL: ''\n        },\n        // cantNext:true,\n        tel: '',\n        canClick: true,\n        codeText: \"获取验证码\",\n        disable: false,\n        bankList: [],\n        bank: '-1',\n        bankText: '请选择开户银行',\n        stepImg: require('@/assets/images/account_icon_green2@2x.png'),\n        stepImg2: require('@/assets/images/step2@2x.png'),\n        stepImg3: require('@/assets/images/step3.png'),\n        AllBankListObj: {},\n        errMsg: '',\n        checkBankName1: false,\n\n        telDisabled: false,\n      }\n    },\n    components: {\n      BankSelect,\n      PassWordZhengzhou,\n    },\n    watch: {\n      tel(n, o) {\n        if (n.length > 11) { // >11截取\n          console.log(n);\n          this.tel = n.toString().substr(0, 11)\n        }\n      },\n      bankText(n, o) {\n        // this.checkBankName(this.data.CARD_NO)\n      },\n    },\n    computed: {\n      // data.PHONE_CODE\n      cantNext() {\n        if (this.tel.length > 0 && this.data.PHONE_CODE.length > 0 && this.data.CARD_NO.length > 0) {\n          return false\n        } else {\n          return true\n        }\n      }\n    },\n    filters: {\n      telFlter(n) {\n        if (n.length > 11) { // >11截取\n          return n.toString().substr(0, 11)\n        }\n      },\n      CARD_NO_Fliter(n) {\n        if (n) {\n          return n.substr(n.length - 4)\n        } else {\n          return n\n        }\n      }\n    },\n    created() {\n      this.data.REQ_SERIAL = this.$route.query.REQ_SERIAL\n      this.data.LAST_STEP_NUM = this.$route.query.LAST_STEP_NUM\n      // this.tel = this.$route.query.PHONE_NUM || ''\n      // this.tel = this.$store.getters.GET_OPENING1_DATA.PHONE || ''\n      this.getBankList()\n    },\n    methods: {\n      // msg倒计时\n      timeDown() {\n        let sTime = time\n        this.disable = true\n        let timer = setInterval(() => {\n          if (sTime == 0) {\n            this.codeText = '重新发送'\n            this.disable = false\n            clearInterval(timer)\n            return\n          }\n          sTime--\n          this.codeText = `${sTime}s`\n        }, 1000)\n      },\n      // 点击获取验证码\n      clickMsgCodeHandle() {\n        let PHONE = this.tel\n        PHONE = PHONE + ''\n        console.log(PHONE);\n        if (util.Check.tel(PHONE, true)) return;\n        this.SESSION_ID = this.$store.getters.GET_ACCOUNT_STATE.SESSION_ID + Math.random()\n        this.showSafeCode = true\n      },\n      // 获取短信验证码\n      getMsgCode() {\n        let data = {\n          PHONE_NUM: this.tel,\n          SAFT_CODE: this.safeCode, // 图片验证码\n          BANK_CARD: this.data.CARD_NO\n        }\n        this.$store.commit('SET_SESSION_ID',this.SESSION_ID)\n        this.safeCode = ''\n        API.bicai.sendSMSCodeToBindCard(data, res => {\n          // 0发送成功\n          // 1发送失败\n          // 2手机号码错误\n          // 3.停止短信服务\n          // 4.用户短信验证码输入错误达到三次，24小时内不能再次绑卡\n          if(res.STATUS==0){\n            this.timeDown()\n          }\n          Bus.$emit(BusName.showToast, res.MESSAGE)\n          this.showSafeCode = false\n        }, err => {\n          this.SESSION_ID = ''\n          this.codeText = '重新发送'\n          this.disable = false\n          this.showSafeCode = false\n          console.log(err);\n        })\n      },\n      // 注册第一次返回失败 需要轮询 查询 是否成功\n      pollHandle() {\n        let conut = 0\n        let timer = setInterval(() => {\n          conut++\n          console.log(conut);\n          if (conut == 6) {\n            this.Londing.close()\n            clearInterval(timer)\n            return\n          }\n          this.Londing.open()\n          this.checkID()\n        }, 5000)\n      },\n      checkID() {\n        API.bicai.getMerberAuthStatusInfo({}, res => {\n          let {status} = res\n          console.log(status);\n          if (status == 3 || status == 4) {\n            clearInterval(timer)\n            this.$router.push({name: PageName.BcOpening3})\n          }\n        })\n      },\n      // 根据银行卡号获取银行名称\n      getBankNameByCardNo() {\n        let data = {\n          cardNo: this.data.CARD_NO\n        }\n        API.bicai.getCardBinList(data, res => {\n          if (res.length > 0) {\n            this.bankText = res[0].ISSUER_NAME\n\n          }\n        })\n      },\n      /**\n       * 获取银行列表\n       */\n      getBankList() {\n        API.bicai.getBingingCardsList({}, res => {\n          let obj = {}\n          res.bankList.forEach(item => {\n            obj[item.BANK_CARD_BIN] = item.BANK_NAME\n          })\n          // console.log('bankObj>>>',obj);\n          this.AllBankListObj = obj\n          this.bankList = res.bankList.map((item) => {\n            return {\n              name: item.ORG_NAME,\n              value: 0,\n              src: imgSrc + item.LOGO_URL,\n              Index: item.ORG_NAME_FIRST_LETTER\n            }\n          })\n        })\n      },\n      // 点击图形验证吗\n      getSafeCode() {\n        if(!this.safeCode){\n          Bus.$emit(BusName.showToast,'图形验证码不能为空')\n          return\n        }\n        this.getMsgCode()\n      },\n      checkBankName(val) {\n        // this.checkBankName1 = false\n        // // this.checkBankType()\n        // val = val.replace(/\\s+/g, \"\")\n        // let bankName\n        // for (var i = 3; i < 8; i++) {\n        //   if (bankName = this.machBankName((val + '').slice(0, i))) {\n        //     this.bankText = bankName\n        //     console.log('bankName', bankName);\n        //     break\n        //   }\n        // }\n        this.getBankNameByCardNo()\n      },\n      machBankName(pin) {\n        return this.AllBankListObj[pin]\n      },\n      checkBankNo(val) {\n        val = val.toString()\n        let reg = /\\d{15}|\\d{19}/\n        console.log(!reg.test(val));\n        if (val == '') {\n          Bus.$emit(BusName.showToast, '银行卡号不能为空')\n          return true\n        }\n        else if (val.length < 15 || val.length > 19) {\n          Bus.$emit(BusName.showToast, '银行卡号格式不正确')\n          return true\n        } else {\n          return false\n        }\n\n      },\n      getBank(val) {\n        console.log(val);\n        this.bankText = val.name\n      },\n      // 下一步\n      // 注册\n      goNext() {\n        this.data.PRE_PHONE_NUM = this.tel\n        console.log(this.data.PRE_PHONE_NUM);\n        if (this.bankText == '请选择银行') {\n          Bus.$emit(BusName.showToast, '请选择银行')\n          return\n        }\n        if (this.data.CARD_NO == '') {\n          Bus.$emit(BusName.showToast, '银行卡号不能为空')\n          return\n        }\n        // if (this.checkBankName1) {\n        //   Bus.$emit(BusName.showToast, '您输入的银行卡号和选择的银行名称不匹配')\n        //   return\n        // }\n        if (this.checkBankNo(this.data.CARD_NO)) {\n          return\n        }\n        if (this.data.PRE_PHONE_NUM == '') {\n          Bus.$emit(BusName.showToast, '手机号不能为空')\n          return\n        }\n        if (this.data.PHONE_CODE == '') {\n          Bus.$emit(BusName.showToast, '短信验证码不能为空')\n          return\n        }\n        // if (this.data.MESSAGE_TOKEN == '') {\n        //   Bus.$emit(BusName.showToast, '短信验证码异常')\n        //   return\n        // }\n        let params = {\n          bankCardNo: this.data.CARD_NO,\n          mobile: this.tel,\n          smsCode: this.data.PHONE_CODE\n        }\n        API.bicai.bindCardFourELement(params,\n          res => {\n            this.Londing.close()\n            setTimeout(() => {\n              this.errMsg = ''\n            }, 2000)\n            let status = res.status\n            console.log('status>>>', status);\n            if (status == 0) {\n              this.$router.push({name: PageName.BcOpening3})\n            } else {\n              this.pollHandle()\n            }\n            API.watchApi({\n              FUNCTION_ID: 'ptb0A004', // 点位\n              REMARK_DATA: '异业合作-开户-绑定银行卡', // 中文备注\n            })\n\n          },\n          err => {\n            API.watchApi({\n              FUNCTION_ID: 'ptb0A004', // 点位\n              REMARK_DATA: '异业合作-开户-绑定银行卡', // 中文备注\n            })\n            this.pollHandle()\n            this.errMsg = err\n            setTimeout(() => {\n              this.errMsg = ''\n            }, 2000)\n            console.log(err);\n            this.disable = false\n          })\n      },\n    }\n\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"~@/assets/px2rem\";\n\n  .warp {\n    height: 100%;\n    width: 100%;\n    position: relative;\n  }\n\n  .opening_box {\n    .bank {\n      margin-left: 0.6rem;\n      line-height: 1.3rem;\n      width: 90%;\n      background-size: 0.7rem 0.7rem;\n      border-bottom: 1px #E5E5E5 solid;\n      display: flex;\n      font-size: px2rem(14);\n    }\n    .input-box {\n      margin: 0 auto;\n      width: px2rem(330);\n      border-bottom: 1px #E5E5E5 solid;\n      display: flex;\n      .left-p {\n        width: px2rem(80) !important;\n        box-sizing: border-box;\n        font-size: px2rem(14);\n        font-family: PingFangSC-Regular;\n        color: #444;\n        padding: px2rem(15) 0;\n      }\n      input {\n        text-align: left;\n        font-size: px2rem(14);\n        flex: 1;\n        color: #333\n      }\n      button {\n        margin-top: px2rem(12);\n      }\n    }\n  }\n\n  .tijiao {\n    display: block;\n    font-size: px2rem(16);\n    color: #fff;\n    background-color: #508CEE;\n    border-radius: px2rem(4);\n    line-height: 1rem;\n    width: px2rem(335);\n    height: px2rem(44);\n    margin: px2rem(55) auto px2rem(20);\n    text-align: center;\n    border: none;\n    outline: none;\n    &.cantNext {\n      background: #ccc;\n      color: #fff;\n    }\n  }\n\n  .infos {\n    padding-left: px2rem(20);\n    font-size: px2rem(14)\n  }\n\n  .bank-box {\n    display: inline-block;\n    width: px2rem(150);\n    vertical-align: middle;\n  }\n\n  .msg-code {\n    vertical-align: middle;\n    font-size: px2rem(13);\n    width: px2rem(100);\n    height: px2rem(26);\n    line-height: px2rem(26);\n    border: 1px solid #2B74FE;\n    border-radius: px2rem(4);\n    color: #2B74FE;\n    margin-bottom: px2rem(10);\n  }\n\n  .wrapicon {\n    text-align: center;\n    display: flex;\n    position: relative;\n    margin-bottom: .3rem;\n    margin-top: px2rem(4);\n    .step-text {\n      padding-top: px2rem(7);\n    }\n    .circle {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n    }\n\n    .line1, .line2, .line3 {\n      position: relative;\n      img {\n        width: .5rem;\n      }\n      &:after {\n        display: block;\n        position: absolute;\n        top: 50%;\n        right: 0;\n        transform: translateY(-100%);\n        content: '';\n        width: 45%;\n        background: #92d048;\n        height: .1rem;\n        overflow: hidden;\n\n      }\n    }\n    .hui {\n      &:after, &.line2:before {\n        background: #dee1e3 !important;\n      }\n\n    }\n    .line2 {\n      &:after {\n        left: 0;\n        right: auto;\n      }\n      &:before {\n        display: block;\n        position: absolute;\n        top: 50%;\n        right: 0;\n        transform: translateY(-100%);\n        content: '';\n        width: 45%;\n        background: #92d048;\n        height: .1rem;\n        overflow: hidden;\n      }\n    }\n    .line3 {\n      &:after {\n        left: 0;\n        right: auto;\n      }\n    }\n\n  }\n\n  .msg-err {\n    text-align: center;\n    margin: px2rem(20) auto 0;\n    span {\n      display: inline-block;\n      min-width: px2rem(200);\n      font-size: px2rem(12);\n      color: #fff;\n      background-color: #FF5B05;\n      border-radius: px2rem(5);\n      height: px2rem(29);\n      line-height: px2rem(29);\n      padding: 0 px2rem(10);\n    }\n  }\n\n  .safe-code {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.3);\n    z-index: 10;\n\n    div {\n      display: flex;\n      flex-direction: column;\n      box-sizing: border-box;\n      margin: px2rem(200) auto 0;\n      background: #fff;\n      padding-top: px2rem(10);\n      text-align: center;\n      width: px2rem(280);\n      height: px2rem(150);\n      border-radius: px2rem(6);\n    }\n    p {\n      flex: 1;\n      font-size: px2rem(18);\n    }\n    .btn {\n      flex: 2;\n      display: flex;\n      button {\n        flex: 1;\n        border-top: 1px solid #ccc;\n        color: #007aff;\n        &:first-child {\n          border-right: 1px solid #ccc;\n        }\n      }\n\n    }\n\n    .middle {\n      display: flex;\n      padding: px2rem(15);\n      flex: 2;\n      img {\n        width: px2rem(80);\n        height: px2rem(40);\n      }\n      input {\n        flex: 1;\n        padding-left: px2rem(10);\n        height: px2rem(40);\n        border: 1px solid #ccc;\n      }\n    }\n\n  }\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/common/bcOpen/Opening2.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"warp\"},[_c('app-bar',{attrs:{\"title\":\"信息填写\"}}),_vm._v(\" \"),_c('section',{staticClass:\"wrapicon\"},[_c('section',{staticClass:\"circle\"},[_c('span',{staticClass:\"line1\"},[_c('img',{attrs:{\"src\":_vm.stepImg,\"alt\":\"\"}})]),_vm._v(\" \"),_c('p',{staticClass:\"step-text\"},[_vm._v(\"开户信息验证\")])]),_vm._v(\" \"),_c('section',{staticClass:\"circle\"},[_c('span',{staticClass:\"line2\"},[_c('img',{attrs:{\"src\":_vm.stepImg,\"alt\":\"\"}})]),_vm._v(\" \"),_c('p',{staticClass:\"step-text\"},[_vm._v(\"绑定银行卡\")])]),_vm._v(\" \"),_c('section',{staticClass:\"circle\"},[_c('span',{staticClass:\"line3 hui\"},[_c('img',{attrs:{\"src\":_vm.stepImg3,\"alt\":\"\"}})]),_vm._v(\" \"),_c('p',{staticClass:\"step-text\"},[_vm._v(\"设置密码\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"opening_box\"},[_c('section',{staticClass:\"input-box\"},[_c('p',{staticClass:\"left-p\"},[_vm._v(\" 绑定卡卡号\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.CARD_NO),expression:\"data.CARD_NO\"}],attrs:{\"type\":\"number\",\"name\":\"backname\",\"placeholder\":\"请输入储蓄卡卡号\"},domProps:{\"value\":(_vm.data.CARD_NO)},on:{\"blur\":function($event){_vm.checkBankName(_vm.data.CARD_NO)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"CARD_NO\", $event.target.value)}}})]),_vm._v(\" \"),_c('section',{staticClass:\"bank\"},[_c('span',{staticClass:\"left-p\",staticStyle:{\"padding-right\":\"0px\"}},[_vm._v(\"选择银行\")]),_vm._v(\" \"),_c('Bank-select',{staticClass:\"bank-box\",attrs:{\"text\":_vm.bankText,\"options\":_vm.bankList,\"title\":\"银行列表\"},on:{\"getValue\":_vm.getBank}})],1),_vm._v(\" \"),_c('section',{staticClass:\"input-box\"},[_c('p',{staticClass:\"left-p\"},[_vm._v(\"手机号码\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tel),expression:\"tel\"}],attrs:{\"disabled\":_vm.telDisabled,\"type\":\"text\",\"name\":\"tel\",\"placeholder\":\"银行预留手机号\"},domProps:{\"value\":(_vm.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.tel=$event.target.value}}})]),_vm._v(\" \"),_c('section',{staticClass:\"input-box\"},[_c('p',{staticClass:\"left-p\"},[_vm._v(\"验证码\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.PHONE_CODE),expression:\"data.PHONE_CODE\"}],attrs:{\"type\":\"text\",\"placeholder\":\"验证码\"},domProps:{\"value\":(_vm.data.PHONE_CODE)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"PHONE_CODE\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{staticClass:\"msg-code\",attrs:{\"disabled\":_vm.disable},on:{\"click\":_vm.clickMsgCodeHandle}},[_vm._v(_vm._s(_vm.codeText))])])]),_vm._v(\" \"),(_vm.errMsg)?_c('div',{staticClass:\"msg-err\"},[_c('span',[_vm._v(_vm._s(_vm.errMsg))])]):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"tijiao\",class:{cantNext:_vm.cantNext},attrs:{\"disabled\":_vm.cantNext},on:{\"click\":_vm.goNext}},[_vm._v(\"下一步\")]),_vm._v(\" \"),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSafeCode),expression:\"showSafeCode\"}],staticClass:\"safe-code\"},[_c('div',[_c('p',[_vm._v(\"请填写图形验证码\")]),_vm._v(\" \"),_c('section',{staticClass:\"middle\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.safeCode),expression:\"safeCode\"}],attrs:{\"type\":\"tel\",\"placeholder\":\"请输入图形验证码\"},domProps:{\"value\":(_vm.safeCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.safeCode=$event.target.value}}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.safeCodeUrl+ _vm.SESSION_ID,\"alt\":\"\"}})]),_vm._v(\" \"),_c('section',{staticClass:\"btn\"},[_c('button',{on:{\"click\":function($event){_vm.showSafeCode=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.getSafeCode}},[_vm._v(\"确定\")])])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-12b02426\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/common/bcOpen/Opening2.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-12b02426\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Opening2.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Opening2.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Opening2.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-12b02426\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Opening2.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-12b02426\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/common/bcOpen/Opening2.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}