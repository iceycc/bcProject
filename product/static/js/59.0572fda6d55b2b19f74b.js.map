{"version":3,"sources":["webpack:///src/views/common/login/LoginByBicai/Login.vue","webpack:///./src/views/common/login/LoginByBicai/Login.vue?60c1","webpack:///./src/views/common/login/LoginByBicai/Login.vue"],"names":["safeCodeUrl","Constant","timer","Login","data","SESSION_ID","msgDisabled","tel","cms","pass","passLay","toUrl","loginPass","num","ifGet","refur","telShow","cmsShow","telPaceholder","cmsholder","codeText","passPluginText","currentTel","ORG_ID","BANK_NAME","LOGO_URL","safeCode","showSafeCode","mixins","HandleMixin","UtilMixin","components","PassWordZhengzhou","PassInputZhengzhou","inject","created","this","util","storage","session","get","getBankState","ORG_NAME","preInfo","getComState","loginInfo","PHONE_NUM","bus","$emit","showToast","msg","removeComState","computed","disabled","length","watch","n","o","isValueNumber","toString","substr","methods","reImg","getSafeCode","getMsg","value","test","_this","canLogin","arguments","undefined","SAFT_CODE","service","bicai","sendSMS","res","mark","timeDown","console","log","err","loginFactory","_this2","Check","PHONE_CODE","SOURCE_URL","$store","getters","GET_COMMON_STATE","loginType","commit","login","watchApi","FUNCTION_ID","REMARK_DATA","PHONE_TOKEN","checkBankStatus","setComState","type","checkAuthStatus","_this3","getAuthStatus","AUTH_STATUS","isOldMember","Number","$router","push","BcOpening1","BcOpening2","BcOpening3","clearInterval","_this4","common","apiRegisterBackShow","step","LAST_STEP_NUM","set","name","Opening1","Opening2","Opening3","checkIfPinggu","HAS_GRADE","VerificationSuccess","toPreProduct","focusHandle","$","css","fontSize","clickMsgCodeHandle","PHONE","_this5","sTime","setInterval","LoginByBicai_Login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","_v","src","__webpack_require__","alt","_s","directives","rawName","expression","placeholder","domProps","on","input","$event","target","composing","click","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/59.0572fda6d55b2b19f74b.js","sourcesContent":["<template>\n  <div class=\"hello\">\n    <app-bar title=\"安全登录\"></app-bar>\n    <!--不同银行展示不同的logo和名称,以后抽离组件 专门用于管理-->\n    <!--<img class=\"logo\" src=\"@/assets/images/logoaaa_03.png\" alt=\"\">-->\n    <div class=\"logo-box\">\n      <img src=\"@/assets/images/common/logo@2x.png\" alt=\"\">\n      <span>比财平台{{BANK_NAME}}</span>\n    </div>\n    <div class=\"login_box\">\n      <section class=\"input-box\">\n        <transition name=\"fade\">\n          <p class=\"label\" v-show=\"telShow\">开户手机号</p>\n        </transition>\n        <input class=\"input\" type=\"input\"\n               name=\"text1\" :placeholder=\"telPaceholder\" v-model=\"tel\">\n      </section>\n      <section class=\"input-box\">\n        <transition name=\"fade\">\n          <p class=\"label\" v-show=\"cmsShow\">短信验证码</p>\n        </transition>\n        <input class=\"input\" type=\"tel\"\n               name=\"text1\" :placeholder=\"cmsholder\" v-model=\"cms\">\n        <button class=\"get-msg\" @click=\"clickMsgCodeHandle\" :disabled=\"msgDisabled\">{{codeText}}</button>\n      </section>\n      <!--<button :disabled=\"disabled\" :class=\"{'tijiao':true, 'agree':!disabled}\" @click=\"loginFactory(ORG_ID)\">-->\n      <!--登录-->\n      <!--</button>-->\n      <button class=\"tijiao\" @click=\"loginFactory(ORG_ID)\">\n        登录\n      </button>\n      <p class=\"infos\">\n        温馨提示：未注册比财账号的手机号，登录时将自动注册，且代表您已同意《用户服务协议》和《比财隐私政策》\n      </p>\n\n    </div>\n    <section class=\"safe-code\" v-show=\"showSafeCode\">\n      <div>\n        <img :src=\"safeCodeUrl+ SESSION_ID\" alt=\"\" @click=\"reImg\">\n        <input type=\"tel\" placeholder=\"请输入图形验证码\" v-model=\"safeCode\">\n        <button @click=\"getSafeCode\">确定</button>\n      </div>\n    </section>\n    <section class=\"bottomcontent\">\n      <p>\n        <img src=\"@/assets/images/icon_dunpai@2x.png\" alt=\"\">\n        {{BANK_NAME}}已与比财实现安全直连</p>\n    </section>\n  </div>\n</template>\n<script>\n  import API from \"@/service\"\n  import {LsName, BusName, PageName} from \"@/Constant\";\n  import Bus from '@/plugin/bus'\n  import PassWordZhengzhou from '@/components/password/PassInputZhengzhou'\n  import Mixins from \"@/mixins\";\n  import util from \"libs/util\";\n  import {HOST} from \"@/Constant\";\n\n  const safeCodeUrl = HOST + '/finsuitSafeCode?SESSION_ID='\n  let time = 60\n  let timer;\n\n  export default {\n    data() {\n      return {\n        SESSION_ID: '',\n        safeCodeUrl,\n        msgDisabled: false,\n        tel: '',\n        cms: '',\n        pass: '',\n        passLay: '',\n        toUrl: \"\",\n        loginPass: 'loginPass',\n        num: 1,\n        ifGet: false,\n        refur: false,\n        telShow: false,\n        cmsShow: false,\n        telPaceholder: '开户手机号',\n        cmsholder: '短信验证码',\n        codeText: '获取验证码',\n        passPluginText: '',\n        currentTel: '',\n        ORG_ID: '', //\n        BANK_NAME: '',\n        LOGO_URL: '',\n        safeCode: '',\n        showSafeCode: false\n      }\n    },\n    mixins: [Mixins.HandleMixin, Mixins.UtilMixin],\n    components: {\n      PassWordZhengzhou\n    },\n    inject: ['reload'],\n    created() {\n      this.ORG_ID = util.storage.session.get('ORG_ID') || ''\n      this.BANK_NAME = this.getBankState.ORG_NAME\n\n      let preInfo = this.getComState.loginInfo;\n      if (preInfo) {\n        this.tel = preInfo.PHONE_NUM\n        Bus.$emit(BusName.showToast, preInfo.msg)\n        this.removeComState('loginInfo')\n      }\n    },\n    computed: {\n      disabled() {\n        if (this.tel.length == 11 && this.cms.length > 0) {\n          return false\n        } else {\n          return true\n        }\n      }\n    },\n    watch: {\n      tel(n, o) {\n        if (n == '') {\n          return\n        }\n        if (!this.isValueNumber(n)) {\n          this.tel = this.currentTel\n          return\n        }\n        if (n.length > 11) { // >11截取\n          this.tel = this.tel.toString().substr(0, 11)\n        }\n        this.currentTel = n\n        if (n.length > 1) { // >1时不必校验\n          return\n        }\n        if (!n) { // 删除到 '' 是触发\n          this.telShow = false\n          this.telPaceholder = '开户手机号'\n        } else {\n          this.telPaceholder = ''\n          this.telShow = true\n        }\n      },\n      cms(n, o) {\n        if (n == '') {\n          return\n        }\n        if (n.length > 1) { // >1时不必校验\n          return\n        }\n        if (!n) { // 删除到 '' 是触发\n          this.cmsShow = false\n          this.cmsholder = '短信验证码'\n        } else {\n          this.cmsholder = ''\n          this.cmsShow = true\n        }\n      }\n    },\n    methods: {\n      reImg() {\n      },\n      getSafeCode() {\n        if (this.safeCode == '') {\n          Bus.$emit(BusName.showToast, '请填写图形验证码')\n        }\n        this.getMsg(true)\n        this.showSafeCode = false\n      },\n      isValueNumber(value) {\n        return (/(^-?[0-9]+\\.{1}\\d+$)|(^-?[1-9][0-9]*$)|(^-?0{1}$)/).test(value);\n      },\n\n      getMsg(canLogin = false) {\n        let data = {\n          PHONE_NUM: this.tel + '',\n          SAFT_CODE: this.safeCode\n        }\n        this.safeCode = ''\n        this.SESSION_ID = ''\n        API.bicai.sendSMS(data, (res, SESSION_ID) => {\n          let data = res\n          let mark = data.mark // 0 未满5次，1满五次\n          this.SESSION_ID = SESSION_ID\n          if (mark == 0) {\n            Bus.$emit(BusName.showToast, '验证码发送成功')\n            this.timeDown()\n          } else {\n            console.log(canLogin);\n            if (canLogin) { // 用于拦截第一次\n              this.timeDown()\n            } else {\n              this.showSafeCode = true\n            }\n          }\n        }, err => {\n        })\n      },\n      loginFactory() {\n        if (util.Check.tel(this.tel, true)) return\n        let data = {\n          PHONE_NUM: this.tel + '',\n          PHONE_CODE: this.cms,\n          SAFT_CODE: this.safeCode\n        }\n        let SOURCE_URL = this.$store.getters.GET_COMMON_STATE.loginType\n        this.$store.commit('SET_TOKEN', null)\n        API.bicai.login(data, (res) => {\n          API.watchApi({\n            FUNCTION_ID: 'ptb0A007', // 点位\n            REMARK_DATA: '异业合作-登录', // 中文备注\n            SOURCE_URL: SOURCE_URL\n          })\n          this.$store.commit('SET_BICAI_USER', res)\n          this.$store.commit('SET_TOKEN', res.PHONE_TOKEN)\n          // todo 登陆比财 首先判断比财开户的状态 暂时注释。\n          // this.checkAuthStatus()\n          // 跳过校验比财开户状态 直接判断郑州银行回显\n          this.checkBankStatus()\n        }, err => {\n          API.watchApi({\n            FUNCTION_ID: 'ptb0A007', // 点位\n            REMARK_DATA: '异业合作-登录', // 中文备注\n          })\n          // util.storage.session.remove(LsName.token)\n          this.$store.commit('SET_TOKEN', null)\n          this.setComState({\n            type: 'loginInfo',\n            value: {\n              PHONE_NUM: this.tel,\n              msg: err\n            }\n          })\n\n        })\n      },\n      // 判断该用户在比财的实名认证状态\n      checkAuthStatus() {\n        API.bicai.getAuthStatus({}, res => {\n          let {AUTH_STATUS, isOldMember} = res\n          //  AUTH_STATUS 返回码：\n          // 0:未认证，\n          // 1:身份证认证，\n          // 2:银行卡认证，\n          // 3:密码设置，\n          // 4:认证完成，\n          // 5:身份证过期\n          console.log(AUTH_STATUS);\n          switch (Number(AUTH_STATUS)) {\n            case 0:\n            case 1:\n              this.$router.push(PageName.BcOpening1)\n              break;\n            case 2:\n              this.$router.push(PageName.BcOpening2)\n              break;\n            case 3:\n              this.$router.push(PageName.BcOpening3)\n              break;\n            case 4:\n              this.checkBankStatus()\n              // todo 再判断对应的直销银行有没有开户\n              break;\n            case 5:\n              //\n              this.$router.push(PageName.BcOpening1)\n              break;\n          }\n        }, err => {\n          this.codeText = '重新发送'\n          this.msgDisabled = false\n          clearInterval(timer)\n        })\n      },\n      // 判断该用户在本行的开户状态\n      checkBankStatus() {\n        // 登陆比财成功 且在比财实名成功 然后 检查在本行状态\n        let data = {}\n        API.common.apiRegisterBackShow(data, res => {\n          let step = res.LAST_STEP_NUM\n          // （0未提交，1提交第一步，2提交第二步，3提交第三步）\n          util.storage.session.set('USERINFO', res)\n          if (step == 0) {\n            // this.$store.commit('SET_OPENING_DATA', 1)\n            this.setComState({type: 'openingData', value: res})\n            this.$router.push({name: PageName.Opening1})\n          }\n          if (step == 1) {\n            this.setComState({type: 'openingData', value: res})\n            // this.$store.commit('SET_OPENING_DATA', 1)\n            this.$router.push({name: PageName.Opening2})\n          }\n          if (step == 2) {\n            this.setComState({type: 'openingData', value: res})\n            // this.$store.commit('SET_OPENING_DATA', 1)\n            this.$router.push({name: PageName.Opening3})\n          }\n          if (step == 3) {\n            // todo登陆成功后判断拿来的去哪里\n            this.setComState({type: 'Infos', value: res})\n            this.checkIfPinggu(res)\n          }\n        }, err => {\n          this.codeText = '重新发送'\n          this.msgDisabled = false\n          clearInterval(timer)\n        })\n      },\n      // 判断是否评估\n      checkIfPinggu(res) {\n        // this.$router.push({name:PageName.Opening3})\n        this.removeComState('loginInfo')\n        let type = res.HAS_GRADE\n        this.setComState({type: 'HAS_GRADE', value: type})\n        // util.storage.session.set(LsName.HAS_GRADE, type)\n        if (type == 1) {\n          Bus.$emit(BusName.showToast, '请先进行评估')\n          this.$router.push({\n            name: PageName.VerificationSuccess,\n          })\n        }\n        else if (type == 2) { // 评估过\n          // 2的话\n          this.toPreProduct() // 评估过判断是否去哪里\n\n        } else {\n          this.toPreProduct() // 评估过判断是否去哪里\n        }\n      },\n      //\n      focusHandle() {\n        this.telShow = true\n        this.telPaceholder = ''\n        $('.input').css({\n          fontSize: '.5rem'\n        })\n      },\n      clickMsgCodeHandle() {\n        let PHONE = this.tel\n        PHONE = PHONE + ''\n        console.log(PHONE);\n        if (util.Check.tel(PHONE, true)) return;\n        this.getMsg()\n      },\n      // msg倒计时\n      timeDown() {\n        let sTime = time\n        this.msgDisabled = true\n        timer = setInterval(() => {\n          if (sTime == 0) {\n            this.codeText = '重新发送'\n            this.msgDisabled = false\n            clearInterval(timer)\n            return\n          }\n          sTime--\n          this.codeText = `${sTime}s`\n        }, 1000)\n      },\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n  @import \"~@/assets/px2rem\";\n\n  .logo-box {\n    font-size: 0;\n    width: 100%;\n    padding-top: px2rem(40);\n    box-sizing: border-box;\n    padding-left: px2rem(20);\n    span {\n      padding-top: px2rem(10);\n      padding-left: px2rem(20);\n      font-size: px2rem(20);\n      color: #49546C;\n      vertical-align: top;\n    }\n    img {\n      vertical-align: top;\n      width: px2rem(50);\n      height: px2rem(46);\n    }\n  }\n\n  .hello {\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    min-height: px2rem(600);\n    position: relative;\n  }\n\n  .header {\n    background-color: #fff;\n    height: 1.3rem;\n    line-height: 1.3rem;\n    font-size: 0.4rem;\n    border-bottom: 1px solid #e6e6e6;\n  }\n\n  .header p {\n    text-align: center;\n    font-size: 0.5rem;\n  }\n\n\n\n  .titlecontent {\n    padding-left: px2rem(20);\n    padding-top: px2rem(24);\n    font-size: px2rem(18);\n    img {\n      width: .6rem;\n      vertical-align: top;\n    }\n  }\n\n  .safe-code {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.3);\n    z-index: 10;\n    div {\n      box-sizing: border-box;\n      margin: px2rem(200) auto 0;\n      background: #fff;\n      padding-top: px2rem(10);\n      text-align: center;\n      width: px2rem(250);\n      height: px2rem(150);\n    }\n    img {\n\n    }\n    button {\n      width: px2rem(80);\n      height: px2rem(30);\n      background: #2f74ff;\n      color: #fff;\n    }\n    input {\n      margin: px2rem(10) auto px2rem(10);\n      padding-left: px2rem(10);\n      display: block;\n      width: px2rem(150);\n      height: px2rem(40);\n      border: 1px solid #ccc;\n    }\n  }\n\n  .login_box {\n    position: relative;\n    .input-box {\n      position: relative;\n      margin-left: px2rem(20);\n      width: 90%;\n      height: px2rem(65);\n      background-size: 0.7rem 0.7rem;\n      border-bottom: 1px #E5E5E5 solid;\n      padding-top: px2rem(20);\n    }\n    .label {\n      padding: 0;\n      font-size: px2rem(17);\n      color: #858E9F;\n    }\n    .get-msg {\n      position: absolute;\n      right: 0;\n      top: px2rem(46);\n      font-size: px2rem(12);\n      height: px2rem(30);\n      width: px2rem(90);\n      color: #508CEE;\n      border: 1px solid #508CEE;\n      border-radius: px2rem(6)\n    }\n    .input {\n      position: absolute;\n      left: 0;\n      bottom: 0;\n      @include placeholder(#dedede);\n      height: px2rem(24) !important;\n      margin: px2rem(10) 0;\n      width: 50%;\n      border: none;\n      box-sizing: border-box;\n      font-size: px2rem(16);\n      color: #333;\n      outline: none;\n    }\n  }\n\n  .tijiao {\n    background: #fff;\n    color: #508CEE;\n    border: 1px solid #508CEE;\n    font-size: px2rem(18);\n    border-radius: px2rem(6);\n    width: px2rem(255);\n    height: px2rem(44);\n    margin: px2rem(66) auto 0;\n    text-align: center;\n    display: block;\n    /*&.agree {*/\n    /*background: #508CEE;*/\n    /*}*/\n  }\n\n  .infos {\n    margin: px2rem(60) auto 0;\n    width: px2rem(315);\n    height: px2rem(34);\n    color: #B3B3B3;\n  }\n\n  .login_box .forget {\n    margin-top: 0.2rem;\n    color: #1badff;\n    position: absolute;\n    right: 5%;\n  }\n\n  .login_box .forget2 {\n    color: #333;\n  }\n\n  .fade-enter-active, .fade-leave-active {\n    transition: opacity .6s;\n  }\n\n  .fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */\n  {\n    opacity: 0;\n  }\n\n\n  .bottomcontent {\n    /*position: absolute;*/\n    color: #808080;\n    margin-top: px2rem(100);\n    width: 100%;\n    text-align: center;\n    font-size: px2rem(14);\n    img {\n      vertical-align: top;\n      width: .5rem;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/common/login/LoginByBicai/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('app-bar',{attrs:{\"title\":\"安全登录\"}}),_vm._v(\" \"),_c('div',{staticClass:\"logo-box\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/common/logo@2x.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"比财平台\"+_vm._s(_vm.BANK_NAME))])]),_vm._v(\" \"),_c('div',{staticClass:\"login_box\"},[_c('section',{staticClass:\"input-box\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.telShow),expression:\"telShow\"}],staticClass:\"label\"},[_vm._v(\"开户手机号\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tel),expression:\"tel\"}],staticClass:\"input\",attrs:{\"type\":\"input\",\"name\":\"text1\",\"placeholder\":_vm.telPaceholder},domProps:{\"value\":(_vm.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.tel=$event.target.value}}})],1),_vm._v(\" \"),_c('section',{staticClass:\"input-box\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cmsShow),expression:\"cmsShow\"}],staticClass:\"label\"},[_vm._v(\"短信验证码\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cms),expression:\"cms\"}],staticClass:\"input\",attrs:{\"type\":\"tel\",\"name\":\"text1\",\"placeholder\":_vm.cmsholder},domProps:{\"value\":(_vm.cms)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.cms=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"get-msg\",attrs:{\"disabled\":_vm.msgDisabled},on:{\"click\":_vm.clickMsgCodeHandle}},[_vm._v(_vm._s(_vm.codeText))])],1),_vm._v(\" \"),_c('button',{staticClass:\"tijiao\",on:{\"click\":function($event){_vm.loginFactory(_vm.ORG_ID)}}},[_vm._v(\"\\n      登录\\n    \")]),_vm._v(\" \"),_c('p',{staticClass:\"infos\"},[_vm._v(\"\\n      温馨提示：未注册比财账号的手机号，登录时将自动注册，且代表您已同意《用户服务协议》和《比财隐私政策》\\n    \")])]),_vm._v(\" \"),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSafeCode),expression:\"showSafeCode\"}],staticClass:\"safe-code\"},[_c('div',[_c('img',{attrs:{\"src\":_vm.safeCodeUrl+ _vm.SESSION_ID,\"alt\":\"\"},on:{\"click\":_vm.reImg}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.safeCode),expression:\"safeCode\"}],attrs:{\"type\":\"tel\",\"placeholder\":\"请输入图形验证码\"},domProps:{\"value\":(_vm.safeCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.safeCode=$event.target.value}}}),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.getSafeCode}},[_vm._v(\"确定\")])])]),_vm._v(\" \"),_c('section',{staticClass:\"bottomcontent\"},[_c('p',[_c('img',{attrs:{\"src\":require(\"@/assets/images/icon_dunpai@2x.png\"),\"alt\":\"\"}}),_vm._v(\"\\n      \"+_vm._s(_vm.BANK_NAME)+\"已与比财实现安全直连\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6cad45ca\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/common/login/LoginByBicai/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6cad45ca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6cad45ca\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6cad45ca\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/common/login/LoginByBicai/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}